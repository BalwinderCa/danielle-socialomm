import{O as y,Z as g}from"./@inertiajs-D-tiTHlX.js";import{_ as C}from"./Admin-BmY5gXra.js";import"./app-DrYJbhZh.js";import{u as x}from"./useRouter-qMRxdwMF.js";import{l as c}from"./lodash-1tNnn4nO.js";import{_ as O}from"./PageHeader-5KlQKxZu.js";import{_ as j}from"./WebhookAction-CXr-Ca_5.js";import{_ as B}from"./Panel-C3_mBW3b.js";import{_ as D}from"./Flex-55yEXw9x.js";import{_ as N}from"./Pagination-BTQBy8Tc.js";import{_ as V}from"./NoResult-DQ-W_W23.js";import{_ as E,a as S}from"./WebhookDeliveryItemView-6jghpUb6.js";import{T,_ as f}from"./Tab-gMbHW_qz.js";import{aJ as v,r as $,f as q,w as F,l as k,E as i,u as I,x as a,z as o,C as _,F as b,d as P,k as l,ak as u,A as d,q as z,y as w}from"./@vue-DxEuNGre.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./emoji-mart-vue-fast-DVezNdb5.js";import"./QueueList-DTZpFIOW.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./vue-i18n-CbxO4HOa.js";import"./@intlify-AYDeHhOU.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./Trash-CGBHVq5p.js";import"./ChevronLeft-Cx_QtWsr.js";import"./Clock-BpaLntn3.js";import"./highlight.js-BQHIPuhb.js";import"./pretty-kgrIdtEn.js";import"./js-beautify-CVGnPpPe.js";import"./condense-newlines-72lYqSqC.js";import"./is-whitespace-1csfIJn2.js";import"./extend-shallow-heY_3iO8.js";import"./kind-of-CAAF0pfw.js";import"./is-buffer-DoLxFxiE.js";import"./SectionTitle-DlhdjqIe.js";import"./SectionBorder-_k-DEA9C.js";import"./Refresh-BG68H2OY.js";const A={class:"w-full mx-auto row-py"},J={class:"text-gray-500"},L={class:"row-px"},M={class:"w-full mt-lg"},R={class:"w-full md:w-1/2 border-r border-gray-100"},W={class:"w-full md:w-1/2"},Z={key:0,class:"mt-lg"},G=P({layout:C}),Ue=Object.assign(G,{__name:"WebhookDeliveries",props:{filter:{type:Object,default:{}},webhook:{type:Object,required:!0},deliveries:{type:Object}},setup(e){const p=e;v("routePrefix"),v("confirmation"),v("authPasswordConfirmation"),x();const m=$({status:p.filter.status}),n=$(null);q(()=>{p.deliveries.data.length&&h(p.deliveries.data[0])});const h=t=>{n.value=t};return F(()=>c.cloneDeep(m.value),c.throttle(()=>{y.get(route("mixpost.system.webhooks.deliveries.index",{workspace:workspaceCtx.id,webhook:p.webhook.id}),c.pickBy(m.value),{preserveState:!0,preserveScroll:!0,only:["deliveries","filter"]})},300)),(t,s)=>(l(),k(b,null,[i(I(g),{title:t.$t("webhook.deliveries")},null,8,["title"]),a("div",A,[i(O,{title:t.$t("webhook.deliveries")},{description:o(()=>[u(d(e.webhook.name)+" ",1),a("div",J,d(e.webhook.callback_url),1)]),default:o(()=>[i(j,{record:e.webhook,create:!1,deliveries:!1},null,8,["record"])]),_:1},8,["title"]),a("div",L,[a("div",M,[i(T,null,{default:o(()=>[i(f,{onClick:s[0]||(s[0]=r=>m.value.status=null),active:!t.$page.props.filter.status},{default:o(()=>[u(d(t.$t("general.all")),1)]),_:1},8,["active"]),i(f,{onClick:s[1]||(s[1]=r=>m.value.status="success"),active:t.$page.props.filter.status==="success"},{default:o(()=>[u(d(t.$t("general.succeeded")),1)]),_:1},8,["active"]),i(f,{onClick:s[2]||(s[2]=r=>m.value.status="error"),active:t.$page.props.filter.status==="error"},{default:o(()=>[u(d(t.$t("general.failed")),1)]),_:1},8,["active"])]),_:1})]),i(B,{class:"mt-lg","with-padding":!1},{default:o(()=>[i(D,{gap:"gap-0"},{default:o(()=>[a("div",R,[(l(!0),k(b,null,z(e.deliveries.data,r=>(l(),w(E,{key:r.id,item:r,active:n.value&&n.value.id===r.id,onClick:H=>h(r)},null,8,["item","active","onClick"]))),128)),e.deliveries.meta.total?_("",!0):(l(),w(V,{key:0,class:"py-md px-md"}))]),a("div",W,[n.value?(l(),w(S,{key:0,webhookId:e.webhook.id,delivery:n.value},null,8,["webhookId","delivery"])):_("",!0)])]),_:1})]),_:1}),e.deliveries.meta.links.length>3?(l(),k("div",Z,[i(N,{meta:e.deliveries.meta,links:e.deliveries.links},null,8,["meta","links"])])):_("",!0)])])],64))}});export{Ue as default};

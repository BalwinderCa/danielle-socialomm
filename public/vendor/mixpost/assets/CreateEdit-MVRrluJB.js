import{aJ as k,b as O,l as g,E as r,u as e,x as m,z as t,bN as z,F as B,d as F,k as h,ak as d,A as i,C as y}from"./@vue-DxEuNGre.js";import{T as I,Z as P,i as A,O as L}from"./@inertiajs-D-tiTHlX.js";import{u as M}from"./vue-i18n-CbxO4HOa.js";import{u as D}from"./usePageMode-BKxn7TaF.js";import{p as J,a as Z,c as G,d as H,_ as c,e as w,h as $,u as K}from"./app-Bood2A1f.js";import{_ as Q}from"./Admin-DhOeHsLa.js";import{_ as R}from"./PageHeader-5KlQKxZu.js";import{_ as S}from"./Panel-C3_mBW3b.js";import{_ as C}from"./Radio-DGi8giFl.js";import{E as W}from"./Eye-Bm2KpbsG.js";import{T as X}from"./Trash-CGBHVq5p.js";import{_ as U}from"./InputHidden-CWcB3Yw_.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./@intlify-AYDeHhOU.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./emoji-mart-vue-fast-DVezNdb5.js";import"./lodash-1tNnn4nO.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./QueueList-DTZpFIOW.js";import"./Flex-55yEXw9x.js";const Y={class:"row-py w-full mx-auto"},ee={key:0,class:"flex"},se={class:"row-px"},re={for:"name"},te={for:"email"},oe={class:"flex items-center space-x-sm rtl:space-x-reverse"},ae={key:0},ie={for:"password"},le={for:"password_confirmation"},me=F({layout:Q}),Re=Object.assign(me,{__name:"CreateEdit",props:{mode:{type:String,default:"create"},user:{type:Object}},setup(f){const{t:o}=M(),v=k("routePrefix"),E=k("confirmation"),p=f,{notify:b}=K(),{user:x}=J(),V=O(()=>_.value?o("user.create_user"):"Edit user"),{isCreate:_,isEdit:n}=D(),s=I({name:n.value?p.user.name:"",email:n.value?p.user.email:"",is_admin:n.value?p.user.is_admin:!1,password:"",password_confirmation:""}),q=()=>{s.post(route("mixpost.users.store"),{preserveScroll:!0,preserveState:!0})},N=()=>{s.put(route("mixpost.users.update",{user:p.user.id}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{const u=[o("user.user_has_been_updated"),o("auth.password_has_been_changed")];b("success",s.password?u.join(`
`):u[0])}})},T=()=>{_.value&&q(),n.value&&N()},j=()=>{E().title(o("user.delete_user")).description(o("user.confirm_delete_user")).destructive().onConfirm(u=>{u.isLoading(!0),L.delete(route(`${v}.users.delete`,{user:p.user.id}),{onSuccess(a){a.props.flash.error||b("success",o("user.delete_user"))},onFinish(){u.isLoading(!1)}})}).show()};return(u,a)=>(h(),g(B,null,[r(e(P),{title:V.value},null,8,["title"]),m("div",Y,[r(R,{title:V.value},{default:t(()=>[e(n)?(h(),g("div",ee,[r(e(A),{href:u.route(`${e(v)}.users.view`,{user:f.user.id}),class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:t(()=>[r(G,{size:"sm"},{icon:t(()=>[r(W)]),default:t(()=>[d(" "+i(e(o)("general.view")),1)]),_:1})]),_:1},8,["href"]),r(H,{onClick:j,size:"sm"},{icon:t(()=>[r(X)]),_:1})])):y("",!0)]),_:1},8,["title"]),m("div",se,[m("form",{method:"post",onSubmit:z(T,["prevent"])},[r(S,null,{title:t(()=>[d(i(e(o)("user.user_details")),1)]),default:t(()=>[r(c,null,{title:t(()=>[m("label",re,i(e(o)("general.name")),1)]),footer:t(()=>[r(w,{message:e(s).errors.name},null,8,["message"])]),default:t(()=>[r($,{modelValue:e(s).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).name=l),error:e(s).errors.name,type:"text",id:"name",class:"w-full",autofocus:"",required:""},null,8,["modelValue","error"])]),_:1}),r(c,{class:"mt-lg"},{title:t(()=>[m("label",te,i(e(o)("general.email")),1)]),footer:t(()=>[r(w,{message:e(s).errors.email},null,8,["message"])]),default:t(()=>[r($,{modelValue:e(s).email,"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).email=l),error:e(s).errors.email,type:"email",id:"email",class:"w-full",autocomplete:"off",required:""},null,8,["modelValue","error"])]),_:1}),r(c,{class:"mt-lg"},{title:t(()=>[d(i(e(o)("user.system_admin")),1)]),default:t(()=>[m("div",oe,[m("label",null,[r(C,{checked:e(s).is_admin,"onUpdate:checked":a[2]||(a[2]=l=>e(s).is_admin=l),value:!1,disabled:e(n)&&f.user.id===e(x).id},null,8,["checked","disabled"]),d(" "+i(e(o)("general.no")),1)]),m("label",null,[r(C,{checked:e(s).is_admin,"onUpdate:checked":a[3]||(a[3]=l=>e(s).is_admin=l),value:!0,disabled:e(n)&&f.user.id===e(x).id},null,8,["checked","disabled"]),d(" "+i(e(o)("general.yes")),1)])])]),_:1})]),_:1}),r(S,{class:"mt-lg"},{title:t(()=>[d(i(e(o)("auth.password")),1)]),description:t(()=>[e(n)?(h(),g("span",ae,i(e(o)("auth.leave_blank_password")),1)):y("",!0)]),default:t(()=>[r(c,null,{title:t(()=>[m("label",ie,i(e(o)("auth.password")),1)]),footer:t(()=>[r(w,{message:e(s).errors.password},null,8,["message"])]),default:t(()=>[r(U,{modelValue:e(s).password,"onUpdate:modelValue":a[4]||(a[4]=l=>e(s).password=l),error:e(s).errors.password,id:"password",required:e(_),autocomplete:"new-password"},null,8,["modelValue","error","required"])]),_:1}),r(c,{class:"mt-lg"},{title:t(()=>[m("label",le,i(e(o)("auth.confirm_password")),1)]),footer:t(()=>[r(w,{message:e(s).errors.password_confirmation},null,8,["message"])]),default:t(()=>[r(U,{modelValue:e(s).password_confirmation,"onUpdate:modelValue":a[5]||(a[5]=l=>e(s).password_confirmation=l),error:e(s).errors.password_confirmation,id:"password_confirmation",required:!!e(s).password,autocomplete:"new-password"},null,8,["modelValue","error","required"])]),_:1})]),_:1}),r(Z,{type:"submit",disabled:e(s).processing,class:"mt-lg"},{default:t(()=>[d(i(e(_)?e(o)("general.create"):e(o)("general.update")),1)]),_:1},8,["disabled"])],32)])])],64))}});export{Re as default};

import{l as g}from"./lodash-1tNnn4nO.js";import{a5 as _}from"./app-TmpkEByR.js";import{r as m,f as k,b1 as b,w as z,k as r,l as a,F as v,q as h,J as E,x as B,t as L,ak as N,A as q}from"./@vue-DxEuNGre.js";const A=["data-column"],I={__name:"Masonry",props:{items:{type:Array,required:!0},columns:{type:Number,default:3}},setup(l){const u=l,w=m(null),t=m([]),i=m(!1);k(()=>{c(),window.addEventListener("resize",d)}),b(()=>{window.removeEventListener("resize",d)});const d=g.debounce(()=>{t.value.length!==f().length&&c()},300),f=()=>{let e=u.columns;_().width<=768&&(e=2);const s=[];for(let n=0;n<e;n++)s.push({i:n,indexes:[]});return s},x=e=>{const s=e%t.value.length;t.value[s].indexes.push(e)},y=()=>{for(let e=0;e<u.items.length;e++)x(e)},c=()=>{i.value=!1,t.value.splice(0),t.value.push(...f()),i.value=!0,y()};return z(()=>u.items,()=>{c()}),(e,s)=>(r(),a("div",{class:L(["flex -m-1",{"opacity-0":!i.value}])},[(r(!0),a(v,null,h(t.value,(n,p)=>(r(),a("div",{class:"flex flex-col grow basis-0 px-1",key:p},[(r(!0),a(v,null,h(n.indexes,o=>(r(),a("div",{class:"py-1",key:o,ref_for:!0,ref:`item_${o}`},[E(e.$slots,"default",{item:l.items[o],index:o},()=>[N(q(l.items[o]),1)])]))),128)),B("div",{class:"grow -mt-20 pt-20 min-h-[100px] -z-10",ref_for:!0,ref_key:"bottomRef",ref:w,"data-column":p},null,8,A)]))),128))],2))}};export{I as _};

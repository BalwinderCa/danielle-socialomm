import{u as q}from"./vue-i18n-CbxO4HOa.js";import{K as C,O as y}from"./@inertiajs-D-tiTHlX.js";import{Q as F,m as H,g as P,j as V,k as A,c as M,d as T,J as U,o as z,u as J,a as W,n as G}from"./app-D31ITXvg.js";import{_ as K}from"./PureButtonLink-Cm9jQ4_3.js";import{E as Q}from"./EllipsisVertical-DX5Zf3Qx.js";import{_ as S}from"./emoji-mart-vue-fast-DVezNdb5.js";import{k as s,l,x as p,aJ as R,r as X,b,b8 as Y,G as Z,u as r,y as g,z as e,E as t,ak as d,A as n,C as I,F as B,q as D}from"./@vue-DxEuNGre.js";import{T as ee}from"./Trash-CGBHVq5p.js";import{E as te}from"./Eye-Bm2KpbsG.js";import{b as se,c as oe}from"./VerticallyScrollableContent-DX-5ed4I.js";import{_ as ae}from"./ProviderIcon-2Uv5mSMq.js";import{_ as E}from"./Checkbox-CdCvF_Az.js";import{_ as ne}from"./SearchInput-C6so_1kI.js";import{_ as O}from"./NoResult-yipdih8U.js";const le={},re={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function ce(a,c){return s(),l("svg",re,c[0]||(c[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"},null,-1)]))}const ie=S(le,[["render",ce]]),de={},ue={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function me(a,c){return s(),l("svg",ue,c[0]||(c[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"},null,-1)]))}const pe=S(de,[["render",me]]),fe={class:"flex flex-row items-center gap-xs"},Ue={__name:"PostItemActions",props:{itemId:{type:String,required:!0},trashed:{type:Boolean,default:!1}},emits:["onDelete"],setup(a,{emit:c}){const{t:o}=q(),v=R("workspaceCtx"),_=a,w=c,f=X(!1),x=b(()=>{const $=C().props;return $.hasOwnProperty("filter")?$.filter.status:null}),{notify:u}=J(),{isWorkspaceEditorRole:m}=F(),i=()=>{y.delete(route("mixpost.posts.delete",{workspace:v.id,post:_.itemId,status:x.value}),{onSuccess(){f.value=!1,u("success",x.value==="trash"?o("post.post_deleted_permanently"):o("post.post_moved_to_trash")),w("onDelete"),z.emit("postDelete",_.itemId)}})},h=()=>{y.post(route("mixpost.posts.duplicate",{workspace:v.id,post:_.itemId}),{},{onSuccess(){u("success",o("post.post_duplicated"))}})},L=()=>{y.post(route("mixpost.posts.restore",{workspace:v.id,post:_.itemId}),{},{onSuccess(){u("success",o("post.post_restored"))}})};return($,k)=>{const N=Y("tooltip");return s(),l("div",null,[p("div",fe,[Z((s(),g(K,{href:$.route("mixpost.posts.edit",{workspace:r(v).id,post:a.itemId})},{default:e(()=>[r(m)?(s(),g(H,{key:1})):(s(),g(te,{key:0}))]),_:1},8,["href"])),[[N,r(o)(r(m)?"general.edit":"general.view")]]),r(m)?(s(),g(A,{key:0,placement:"bottom-end"},{trigger:e(()=>[t(P,{class:"mt-1"},{default:e(()=>[t(Q)]),_:1})]),content:e(()=>[a.trashed?(s(),g(V,{key:0,onClick:L,as:"button"},{icon:e(()=>[t(pe)]),default:e(()=>[d(" "+n(r(o)("general.restore")),1)]),_:1})):I("",!0),t(V,{onClick:h,as:"button"},{icon:e(()=>[t(ie)]),default:e(()=>[d(" "+n(r(o)("general.duplicate")),1)]),_:1}),t(V,{onClick:k[0]||(k[0]=j=>f.value=!0),as:"button"},{icon:e(()=>[t(ee,{class:"text-red-500"})]),default:e(()=>[d(" "+n(r(o)("general.delete")),1)]),_:1})]),_:1})):I("",!0)]),t(U,{show:f.value,variant:"danger",onClose:k[2]||(k[2]=j=>f.value=!1)},{header:e(()=>[d(n(r(o)("post.delete_post")),1)]),body:e(()=>[d(n(r(o)("post.confirm_delete_post")),1)]),footer:e(()=>[t(M,{onClick:k[1]||(k[1]=j=>f.value=!1),class:"mr-xs"},{default:e(()=>[d(n(r(o)("general.cancel")),1)]),_:1}),t(T,{onClick:i},{default:e(()=>[d(n(a.trashed?r(o)("general.delete_permanently"):r(o)("general.delete")),1)]),_:1})]),_:1},8,["show"])])}}},_e={},ve={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function ke(a,c){return s(),l("svg",ve,c[0]||(c[0]=[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"},null,-1)]))}const he=S(_e,[["render",ke]]),ge={class:"flex items-center"},we={key:0,class:"px-2 py-1 rounded-md bg-white text-black font-bold"},xe={class:"p-sm"},$e={class:"font-semibold"},be={key:0,class:"mt-sm flex flex-wrap items-center gap-xs"},ye={key:1},Ve={class:"p-sm mt-sm"},Ce={class:"font-semibold"},Ie={key:0,class:"mt-sm flex flex-wrap items-center gap-xs"},Se={key:1},ze={__name:"PostsFilter",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(a,{emit:c}){const o=a,v=c,_=b(()=>C().props.accounts),w=b(()=>C().props.tags),f=b(()=>o.modelValue.tags.length+o.modelValue.accounts.length),x=()=>{v("update:modelValue",Object.assign(o.modelValue,{keyword:"",tags:[],accounts:[]}))};return(u,m)=>(s(),l("div",ge,[t(ne,{modelValue:a.modelValue.keyword,"onUpdate:modelValue":m[0]||(m[0]=i=>a.modelValue.keyword=i),class:"mr-xs rtl:mr-0 rtl:ml-xs"},null,8,["modelValue"]),t(A,{"width-classes":"w-72",placement:"bottom-end","closeable-on-content":!1},{trigger:e(()=>[t(W,{size:"md",hiddenTextOnSmallScreen:!0},{icon:e(()=>[t(he)]),default:e(()=>[p("span",null,[d(n(u.$t("general.filters"))+" ",1),f.value?(s(),l("span",we,n(f.value),1)):I("",!0)])]),_:1})]),header:e(()=>[t(P,{onClick:x},{default:e(()=>[d(n(u.$t("general.clear_filter")),1)]),_:1})]),content:e(()=>[t(se,null,{default:e(()=>[p("div",xe,[p("div",$e,n(u.$t("post.labels")),1),w.value.length?(s(),l("div",be,[(s(!0),l(B,null,D(w.value,i=>(s(),l("label",{key:i.id,class:"flex items-center cursor-pointer"},[t(E,{checked:a.modelValue.tags,"onUpdate:checked":m[1]||(m[1]=h=>a.modelValue.tags=h),value:i.id,number:"",class:"mr-1"},null,8,["checked","value"]),t(oe,{item:i,removable:!1,editable:!1},null,8,["item"])]))),128))])):(s(),l("div",ye,[t(O,{class:"mt-xs"},{default:e(()=>[d(n(u.$t("tag.no_labels_found")),1)]),_:1})]))]),p("div",Ve,[p("div",Ce,n(u.$t("account.accounts")),1),_.value.length?(s(),l("div",Ie,[(s(!0),l(B,null,D(_.value,i=>(s(),l("label",{key:i.id,class:"flex items-center cursor-pointer"},[t(E,{checked:a.modelValue.accounts,"onUpdate:checked":m[2]||(m[2]=h=>a.modelValue.accounts=h),value:i.id,number:"",class:"mr-1"},null,8,["checked","value"]),t(G,null,{default:e(()=>[t(ae,{provider:i.provider,class:"!w-4 !h-4 mr-xs"},null,8,["provider"]),d(" "+n(i.name),1)]),_:2},1024)]))),128))])):(s(),l("div",Se,[t(O,{class:"mt-xs"},{default:e(()=>[d(n(u.$t("account.no_accounts_found")),1)]),_:1})]))])]),_:1})]),_:1})]))}};export{Ue as _,ze as a};

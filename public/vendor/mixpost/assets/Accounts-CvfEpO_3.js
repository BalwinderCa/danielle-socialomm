import{i as C,O as M,T as q,K,Z as X}from"./@inertiajs-D-tiTHlX.js";import"./lodash-1tNnn4nO.js";import{u as Z}from"./vue-i18n-CbxO4HOa.js";import{h as B,_ as z,a as P,u as j,e as Q,P as W,I as ee,i as se,J as te,K as oe,g as re,j as F,m as ae,k as ne,c as D,d as ie}from"./app-D31ITXvg.js";import{_ as le}from"./PageHeader-5KlQKxZu.js";import{_ as ce}from"./Panel-C3_mBW3b.js";import{_ as ue}from"./Account-5kg1DrLG.js";import{T as pe,F as de,M as me,I as fe,a as _e,Y as ve,P as ke,_ as T}from"./ProviderIcon-2Uv5mSMq.js";import{aJ as g,k as l,y as u,z as a,x as e,E as o,A as i,u as s,l as b,r as I,ak as p,C as _,t as U,bN as ge,J as be,b as he,w as xe,b8 as $e,F as N,q as we,G as ye}from"./@vue-DxEuNGre.js";import{_ as Ce}from"./emoji-mart-vue-fast-DVezNdb5.js";import{_ as R}from"./Radio-DGi8giFl.js";import{_ as Y}from"./Flex-55yEXw9x.js";import{E as Ae}from"./EllipsisVertical-DX5Zf3Qx.js";import{R as Ie}from"./Refresh-BG68H2OY.js";import{T as Se}from"./Trash-CGBHVq5p.js";import{_ as Pe}from"./AlertUnconfiguredService-yMK-T-2w.js";import{_ as Te}from"./Alert-lYxJ5q5b.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./@intlify-AYDeHhOU.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./ExclamationCircle-Co8IAwQh.js";const Le={class:"flex mr-4"},Ve={class:"flex flex-col items-start"},Fe={__name:"AddTwitterAccount",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Le,[o(pe,{class:"text-twitter"})]),e("span",Ve,[n[0]||(n[0]=e("span",{class:"font-semibold"},"X",-1)),e("span",null,i(t.$t("service.twitter.connect_profile")),1)])]),_:1},8,["href"]))}},Me={class:"flex mr-4"},ze={class:"flex flex-col items-start"},Be={__name:"AddFacebookPage",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Me,[o(de,{class:"text-facebook"})]),e("span",ze,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Facebook Page",-1)),e("span",null,i(t.$t("service.facebook.connect_page")),1)])]),_:1},8,["href"]))}},je={},Ee={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function De(v,r){return l(),b("svg",Ee,r[0]||(r[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1)]))}const J=Ce(je,[["render",De]]),Ne={class:"flex mr-md"},Re={class:"flex flex-col items-start"},qe={key:0,class:"px-lg py-md"},Ue={__name:"AddMastodonAccount",setup(v){const r=g("workspaceCtx"),{notify:t}=j(),n=I(!1),h=I(""),m=I(!1),d=()=>new Promise((w,x)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:h.value}).then(()=>{w()}).catch(function(S){x(S)})}),k=()=>{n.value=!0,M.post(route("mixpost.accounts.add",{workspace:r.id,provider:"mastodon"}),{server:h.value},{onSuccess(){n.value=!1}})},A=async()=>{n.value=!0,await d().then(()=>{k()}).catch(w=>t("error",w)).finally(()=>{n.value=!1})};return(w,x)=>(l(),b("div",{class:U({"bg-mastodon bg-opacity-20":m.value})},[e("div",{role:"button",onClick:x[0]||(x[0]=S=>m.value=!m.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon hover:bg-opacity-20 ease-in-out duration-200"},[e("span",Ne,[o(me,{class:"text-mastodon"})]),e("span",Re,[x[2]||(x[2]=e("span",{class:"font-semibold"},"Mastodon",-1)),e("span",null,i(w.$t("service.mastodon.connect_profile")),1)])]),m.value?(l(),b("div",qe,[o(z,null,{title:a(()=>[p(i(w.$t("service.mastodon.enter_server")),1)]),default:a(()=>[o(B,{type:"text",modelValue:h.value,"onUpdate:modelValue":x[1]||(x[1]=S=>h.value=S),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),o(P,{onClick:A,disabled:!h.value||n.value,isLoading:n.value,size:"md",class:"mt-lg"},{icon:a(()=>[o(J)]),default:a(()=>[p(" "+i(w.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])])):_("",!0)],2))}},Ye={class:"flex mr-4"},Je={class:"flex flex-col items-start"},Oe={__name:"AddInstagramAccount",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"instagram"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ye,[o(fe,{class:"text-instagram"})]),e("span",Je,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Instagram",-1)),e("span",null,i(t.$t("service.instagram.connect_account")),1)])]),_:1},8,["href"]))}},Ge={class:"flex mr-4"},He={class:"flex flex-col items-start"},Ke={__name:"AddThreadsAccount",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"threads"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-threads hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ge,[o(_e,{class:"text-threads"})]),e("span",He,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Threads",-1)),e("span",null,i(t.$t("service.threads.connect")),1)])]),_:1},8,["href"]))}},Xe={class:"flex mr-sm"},Ze={class:"flex flex-col items-start"},Qe={__name:"AddYoutubeAccount",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"youtube"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Xe,[o(ve,{class:"text-youtube"})]),e("span",Ze,[n[0]||(n[0]=e("span",{class:"font-semibold"},"YouTube",-1)),e("span",null,i(t.$t("service.youtube.connect_profile")),1)])]),_:1},8,["href"]))}},We={class:"flex mr-4"},es={class:"flex flex-col items-start"},ss={__name:"AddPinterestAccount",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"pinterest"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",We,[o(ke,{class:"text-pinterest"})]),e("span",es,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Pinterest",-1)),e("span",null,i(t.$t("service.pinterest.connect_profile")),1)])]),_:1},8,["href"]))}},ts={class:"flex mr-4"},os={class:"flex flex-col items-start"},rs={__name:"AddLinkedinProfile",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"linkedin"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",ts,[o(T,{provider:"linkedin"})]),e("span",os,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Profile",-1)),e("span",null,i(t.$t("service.linkedin.connect_profile")),1)])]),_:1},8,["href"]))}},as={class:"flex mr-4"},ns={class:"flex flex-col items-start"},is={__name:"AddLinkedinPage",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"linkedin_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",as,[o(T,{provider:"linkedin"})]),e("span",ns,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Page",-1)),e("span",null,i(t.$t("service.linkedin.connect_page")),1)])]),_:1},8,["href"]))}},ls={class:"flex mr-4"},cs={class:"flex flex-col items-start"},us={__name:"AddTikTokAccount",setup(v){const r=g("workspaceCtx");return(t,n)=>(l(),u(s(C),{href:t.route("mixpost.accounts.add",{workspace:s(r).id,provider:"tiktok"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",ls,[o(T,{provider:"tiktok"})]),e("span",cs,[n[0]||(n[0]=e("span",{class:"font-semibold"},"TikTok",-1)),e("span",null,i(t.$t("service.tiktok.connect_profile")),1)])]),_:1},8,["href"]))}},ps={class:"flex mr-md"},ds={class:"flex flex-col items-start"},ms={key:0,class:"px-lg py-md"},fs={__name:"AddBlueskyAccount",setup(v){const r=g("workspaceCtx"),t=q({service:"bluesky",server:""}),n=I(!1),h=()=>{t.transform(m=>(m.service!=="custom"&&delete m.server,m)).post(route("mixpost.accounts.add",{workspace:r.id,provider:"bluesky"}))};return(m,d)=>(l(),b("div",{class:U({"bg-bluesky bg-opacity-20":n.value})},[e("div",{role:"button",onClick:d[0]||(d[0]=k=>n.value=!n.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-bluesky hover:bg-opacity-20 ease-in-out duration-200"},[e("span",ps,[o(T,{provider:"bluesky"})]),e("span",ds,[d[4]||(d[4]=e("span",{class:"font-semibold"},"Bluesky",-1)),e("span",null,i(m.$t("service.bluesky.connect_profile")),1)])]),n.value?(l(),b("div",ms,[e("form",{onSubmit:ge(h,["prevent"])},[o(z,null,{title:a(()=>[p(i(m.$t("service.bluesky.service")),1)]),default:a(()=>[o(Y,null,{default:a(()=>[e("label",null,[o(R,{checked:s(t).service,"onUpdate:checked":d[1]||(d[1]=k=>s(t).service=k),value:"bluesky"},null,8,["checked"]),d[5]||(d[5]=p(" Bluesky"))]),e("label",null,[o(R,{checked:s(t).service,"onUpdate:checked":d[2]||(d[2]=k=>s(t).service=k),value:"custom"},null,8,["checked"]),p(" "+i(m.$t("general.custom")),1)])]),_:1})]),_:1}),s(t).service==="custom"?(l(),u(z,{key:0,class:"mt-lg"},{title:a(()=>[p(i(m.$t("service.bluesky.server_address")),1)]),footer:a(()=>[o(Q,{message:s(t).errors.server},null,8,["message"])]),default:a(()=>[o(B,{type:"url",modelValue:s(t).server,"onUpdate:modelValue":d[3]||(d[3]=k=>s(t).server=k),error:s(t).errors.server,placeholder:"https://example.com",required:""},null,8,["modelValue","error"])]),_:1})):_("",!0),o(P,{disabled:s(t).service==="custom"&&!s(t).server||s(t).processing,isLoading:s(t).processing,size:"md",type:"submit",class:"mt-lg"},{icon:a(()=>[o(J)]),default:a(()=>[p(" "+i(m.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])],32)])):_("",!0)],2))}},_s={class:"flex items-center justify-center h-full border border-primary-800 rounded-lg hover:border-primary-500 hover:text-primary-500 transition-colors ease-in-out duration-200"},vs={class:"p-lg"},ks={class:"flex flex-col justify-center items-center"},gs={class:"mt-xs text-lg"},bs={__name:"GridAddElement",setup(v){return(r,t)=>(l(),b("span",_s,[e("span",vs,[e("span",ks,[o(W,{class:"w-7 h-7"}),e("span",gs,[be(r.$slots,"default")])])])]))}},hs=()=>{const{notify:v}=j(),r=he(()=>K().props.errors);xe(()=>r.value,t=>{v("error",ee(t))})},xs={class:"w-full mx-auto row-py"},$s={class:"mt-lg row-px w-full"},ws={key:0,class:"mb-md"},ys=["href"],Cs={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},As={class:"flex flex-col justify-center relative"},Is={key:0,class:"absolute top-0 left-0"},Ss={class:"w-md h-md bg-red-500 rounded-full"},Ps={key:1,class:"mt-2"},Ts=["action"],Ls=["value"],Vs={class:"mt-sm font-semibold text-center break-words"},Fs={class:"mt-1 text-center text-stone-800"},Ms={class:"absolute top-0 right-0 mt-sm mr-sm"},zs={class:"mt-xs"},Bs={class:"flex flex-col"},At={__name:"Accounts",setup(v){const{t:r}=Z(),t=g("workspaceCtx"),n=g("routePrefix"),h=r("account.accounts"),{notify:m}=j(),d=I(!1),k=I(null),A=I(!1),w=c=>{M.put(route("mixpost.accounts.update",{workspace:t.id,account:c}),{},{preserveScroll:!0,onSuccess($){$.props.flash.error||m("success",r("account.account_updated"))}})},x=()=>{M.delete(route(`${n}.accounts.delete`,{workspace:t.id,account:k.value}),{preserveScroll:!0,onStart(){A.value=!0},onSuccess(){k.value=null,m("success",r("account.account_deleted"))},onFinish(){A.value=!1}})},S=()=>{A.value||(k.value=null)},L=I(!1),y=q({uuid:null,name:""}),O=c=>{L.value=!0,y.uuid=c.uuid,y.name=c.suffix},V=()=>{L.value=null,y.reset()},G=()=>{y.put(route(`${n}.accounts.updateSuffix`,{workspace:t.id,account:y.uuid}),{onSuccess(){V()}})};return hs(),(c,$)=>{const H=$e("tooltip");return l(),b(N,null,[o(s(X),{title:s(h)},null,8,["title"]),e("div",xs,[o(le,{title:s(h)},{description:a(()=>[p(i(s(r)("account.connect_social_account")),1)]),_:1},8,["title"]),e("div",$s,[o(Pe,{isConfigured:c.$page.props.is_configured_service},null,8,["isConfigured"]),!c.$page.props.is_service_active.twitter&&c.$page.props.enterprise_config.workspace_twitter_service?(l(),b("div",ws,[o(Te,{variant:"warning",closeable:!1},{default:a(()=>[e("p",null,i(s(r)("service.not_configured_service",{service:"X"})),1)]),_:1}),o(Y,null,{default:a(()=>[e("a",{href:`/${c.$page.props.mixpost.core_path}/${s(t).id}/workspace-services?redirect-to-accounts=true`,class:"mt-md block"},[o(P,null,{default:a(()=>[p(i(s(r)("service.configure_services")),1)]),_:1})],8,ys)]),_:1})])):_("",!0),e("div",Cs,[e("button",{onClick:$[0]||($[0]=f=>d.value=!0)},[o(bs,null,{default:a(()=>[p(i(s(r)("account.add_account")),1)]),_:1})]),(l(!0),b(N,null,we(c.$page.props.accounts,f=>(l(),u(ce,{key:f.id,class:"relative"},{default:a(()=>[e("div",As,[o(ue,{size:"lg","img-url":f.image,provider:f.provider,name:f.name,active:!0},null,8,["img-url","provider","name"]),f.authorized?_("",!0):(l(),b("div",Is,[ye(e("div",Ss,null,512),[[H,s(r)("account.unauthorized")]])])),f.authorized?_("",!0):(l(),b("div",Ps,[e("form",{action:c.route("mixpost.accounts.add",{provider:f.provider}),method:"POST",style:{display:"inline"}},[e("input",{type:"hidden",name:"_token",value:c.$page.props.csrf_token},null,8,Ls),$[3]||($[3]=e("button",{type:"submit",class:"btn btn-warning btn-xs ml-2"}," Re-authenticate ",-1))],8,Ts)])),e("div",Vs,i(f.name),1),e("div",Fs,i(s(r)("account.added"))+" "+i(f.created_at),1)]),e("div",Ms,[o(ne,null,{trigger:a(()=>[o(re,null,{default:a(()=>[o(Ae)]),_:1})]),content:a(()=>[o(F,{onClick:E=>w(f.uuid),as:"button"},{icon:a(()=>[o(Ie)]),default:a(()=>[p(" "+i(s(r)("general.update")),1)]),_:2},1032,["onClick"]),o(F,{onClick:E=>O(f),as:"button"},{icon:a(()=>[o(ae)]),default:a(()=>[p(" "+i(s(r)("account.edit_suffix")),1)]),_:2},1032,["onClick"]),o(F,{onClick:E=>k.value=f.uuid,as:"button"},{icon:a(()=>[o(Se,{class:"text-red-500"})]),default:a(()=>[p(" "+i(s(r)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))])])]),o(se,{show:L.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:V},{header:a(()=>[p(i(s(r)("account.edit_account_suffix")),1)]),body:a(()=>[e("div",zs,[o(B,{type:"text",modelValue:s(y).name,"onUpdate:modelValue":$[1]||($[1]=f=>s(y).name=f),placeholder:s(r)("account.enter_suffix")},null,8,["modelValue","placeholder"])])]),footer:a(()=>[o(D,{onClick:V,class:"mr-xs"},{default:a(()=>[p(i(s(r)("general.close")),1)]),_:1}),o(P,{onClick:G,isLoading:s(y).processing,disabled:s(y).processing},{default:a(()=>[p(i(s(r)("general.save")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"]),o(te,{show:k.value!==null,onClose:S,variant:"danger"},{header:a(()=>[p(i(s(r)("account.delete_account")),1)]),body:a(()=>[p(i(s(r)("account.confirm_delete_account")),1)]),footer:a(()=>[o(D,{onClick:S,disabled:A.value,class:"mr-xs"},{default:a(()=>[p(i(s(r)("general.cancel")),1)]),_:1},8,["disabled"]),o(ie,{onClick:x,"is-loading":A.value,disabled:A.value},{default:a(()=>[p(i(s(r)("general.delete")),1)]),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),o(oe,{show:d.value,closeable:!0,onClose:$[2]||($[2]=f=>d.value=!1)},{default:a(()=>[e("div",Bs,[c.$page.props.is_service_active.facebook?(l(),u(Be,{key:0})):_("",!0),c.$page.props.is_service_active.facebook?(l(),u(Oe,{key:1})):_("",!0),c.$page.props.is_service_active.threads?(l(),u(Ke,{key:2})):_("",!0),o(Ue),c.$page.props.is_service_active.bluesky?(l(),u(fs,{key:3})):_("",!0),c.$page.props.is_service_active.google?(l(),u(Qe,{key:4})):_("",!0),c.$page.props.is_service_active.pinterest?(l(),u(ss,{key:5})):_("",!0),c.$page.props.is_service_active.linkedin?(l(),u(rs,{key:6})):_("",!0),c.$page.props.is_service_active.linkedin&&c.$page.props.additionally.linkedin_supports_pages?(l(),u(is,{key:7})):_("",!0),c.$page.props.is_service_active.tiktok?(l(),u(us,{key:8})):_("",!0),c.$page.props.is_service_active.twitter?(l(),u(Fe,{key:9})):_("",!0)])]),_:1},8,["show"])],64)}}};export{At as default};

import{i as y,O as T,T as U,K as Z,Z as Q}from"./@inertiajs-D-tiTHlX.js";import"./lodash-1tNnn4nO.js";import{u as W}from"./vue-i18n-CbxO4HOa.js";import{h as j,_ as B,a as L,u as E,e as ee,P as se,I as te,i as oe,J as re,K as ae,g as ne,j as P,m as ie,k as le,c as D,d as ce}from"./app-DrYJbhZh.js";import{_ as ue}from"./PageHeader-5KlQKxZu.js";import{_ as pe}from"./Panel-C3_mBW3b.js";import{_ as de}from"./Account-C_e21Hs9.js";import{T as me,F as fe,M as _e,I as ve,a as ke,Y as ge,P as be,_ as V}from"./ProviderIcon-2Uv5mSMq.js";import{aJ as g,k as l,y as u,z as a,x as e,E as r,A as i,u as s,l as x,r as I,ak as p,C as _,t as Y,bN as he,J as xe,b as $e,w as we,b8 as ye,F as N,q as Ce,G as Ae}from"./@vue-DxEuNGre.js";import{_ as Ie}from"./emoji-mart-vue-fast-DVezNdb5.js";import{_ as R}from"./Radio-DGi8giFl.js";import{_ as J}from"./Flex-55yEXw9x.js";import{E as Se}from"./EllipsisVertical-DX5Zf3Qx.js";import{R as q}from"./Refresh-BG68H2OY.js";import{T as Pe}from"./Trash-CGBHVq5p.js";import{_ as Te}from"./AlertUnconfiguredService-KV80DCkW.js";import{_ as Le}from"./Alert-zz7KsfSK.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./@intlify-AYDeHhOU.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./ExclamationCircle-Co8IAwQh.js";const Ve={class:"flex mr-4"},Fe={class:"flex flex-col items-start"},ze={__name:"AddTwitterAccount",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ve,[r(me,{class:"text-twitter"})]),e("span",Fe,[n[0]||(n[0]=e("span",{class:"font-semibold"},"X",-1)),e("span",null,i(t.$t("service.twitter.connect_profile")),1)])]),_:1},8,["href"]))}},Me={class:"flex mr-4"},Be={class:"flex flex-col items-start"},je={__name:"AddFacebookPage",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Me,[r(fe,{class:"text-facebook"})]),e("span",Be,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Facebook Page",-1)),e("span",null,i(t.$t("service.facebook.connect_page")),1)])]),_:1},8,["href"]))}},Ee={},De={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Ne(v,o){return l(),x("svg",De,o[0]||(o[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1)]))}const G=Ie(Ee,[["render",Ne]]),Re={class:"flex mr-md"},qe={class:"flex flex-col items-start"},Ue={key:0,class:"px-lg py-md"},Ye={__name:"AddMastodonAccount",setup(v){const o=g("workspaceCtx"),{notify:t}=E(),n=I(!1),b=I(""),m=I(!1),d=()=>new Promise(($,h)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:b.value}).then(()=>{$()}).catch(function(S){h(S)})}),k=()=>{n.value=!0,T.post(route("mixpost.accounts.add",{workspace:o.id,provider:"mastodon"}),{server:b.value},{onSuccess(){n.value=!1}})},C=async()=>{n.value=!0,await d().then(()=>{k()}).catch($=>t("error",$)).finally(()=>{n.value=!1})};return($,h)=>(l(),x("div",{class:Y({"bg-mastodon bg-opacity-20":m.value})},[e("div",{role:"button",onClick:h[0]||(h[0]=S=>m.value=!m.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon hover:bg-opacity-20 ease-in-out duration-200"},[e("span",Re,[r(_e,{class:"text-mastodon"})]),e("span",qe,[h[2]||(h[2]=e("span",{class:"font-semibold"},"Mastodon",-1)),e("span",null,i($.$t("service.mastodon.connect_profile")),1)])]),m.value?(l(),x("div",Ue,[r(B,null,{title:a(()=>[p(i($.$t("service.mastodon.enter_server")),1)]),default:a(()=>[r(j,{type:"text",modelValue:b.value,"onUpdate:modelValue":h[1]||(h[1]=S=>b.value=S),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),r(L,{onClick:C,disabled:!b.value||n.value,isLoading:n.value,size:"md",class:"mt-lg"},{icon:a(()=>[r(G)]),default:a(()=>[p(" "+i($.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])])):_("",!0)],2))}},Je={class:"flex mr-4"},Ge={class:"flex flex-col items-start"},He={__name:"AddInstagramAccount",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"instagram"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Je,[r(ve,{class:"text-instagram"})]),e("span",Ge,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Instagram",-1)),e("span",null,i(t.$t("service.instagram.connect_account")),1)])]),_:1},8,["href"]))}},Ke={class:"flex mr-4"},Oe={class:"flex flex-col items-start"},Xe={__name:"AddThreadsAccount",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"threads"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-threads hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ke,[r(ke,{class:"text-threads"})]),e("span",Oe,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Threads",-1)),e("span",null,i(t.$t("service.threads.connect")),1)])]),_:1},8,["href"]))}},Ze={class:"flex mr-sm"},Qe={class:"flex flex-col items-start"},We={__name:"AddYoutubeAccount",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"youtube"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ze,[r(ge,{class:"text-youtube"})]),e("span",Qe,[n[0]||(n[0]=e("span",{class:"font-semibold"},"YouTube",-1)),e("span",null,i(t.$t("service.youtube.connect_profile")),1)])]),_:1},8,["href"]))}},es={class:"flex mr-4"},ss={class:"flex flex-col items-start"},ts={__name:"AddPinterestAccount",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"pinterest"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",es,[r(be,{class:"text-pinterest"})]),e("span",ss,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Pinterest",-1)),e("span",null,i(t.$t("service.pinterest.connect_profile")),1)])]),_:1},8,["href"]))}},os={class:"flex mr-4"},rs={class:"flex flex-col items-start"},as={__name:"AddLinkedinProfile",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"linkedin"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",os,[r(V,{provider:"linkedin"})]),e("span",rs,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Profile",-1)),e("span",null,i(t.$t("service.linkedin.connect_profile")),1)])]),_:1},8,["href"]))}},ns={class:"flex mr-4"},is={class:"flex flex-col items-start"},ls={__name:"AddLinkedinPage",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"linkedin_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",ns,[r(V,{provider:"linkedin"})]),e("span",is,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Page",-1)),e("span",null,i(t.$t("service.linkedin.connect_page")),1)])]),_:1},8,["href"]))}},cs={class:"flex mr-4"},us={class:"flex flex-col items-start"},ps={__name:"AddTikTokAccount",setup(v){const o=g("workspaceCtx");return(t,n)=>(l(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(o).id,provider:"tiktok"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",cs,[r(V,{provider:"tiktok"})]),e("span",us,[n[0]||(n[0]=e("span",{class:"font-semibold"},"TikTok",-1)),e("span",null,i(t.$t("service.tiktok.connect_profile")),1)])]),_:1},8,["href"]))}},ds={class:"flex mr-md"},ms={class:"flex flex-col items-start"},fs={key:0,class:"px-lg py-md"},_s={__name:"AddBlueskyAccount",setup(v){const o=g("workspaceCtx"),t=U({service:"bluesky",server:""}),n=I(!1),b=()=>{t.transform(m=>(m.service!=="custom"&&delete m.server,m)).post(route("mixpost.accounts.add",{workspace:o.id,provider:"bluesky"}))};return(m,d)=>(l(),x("div",{class:Y({"bg-bluesky bg-opacity-20":n.value})},[e("div",{role:"button",onClick:d[0]||(d[0]=k=>n.value=!n.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-bluesky hover:bg-opacity-20 ease-in-out duration-200"},[e("span",ds,[r(V,{provider:"bluesky"})]),e("span",ms,[d[4]||(d[4]=e("span",{class:"font-semibold"},"Bluesky",-1)),e("span",null,i(m.$t("service.bluesky.connect_profile")),1)])]),n.value?(l(),x("div",fs,[e("form",{onSubmit:he(b,["prevent"])},[r(B,null,{title:a(()=>[p(i(m.$t("service.bluesky.service")),1)]),default:a(()=>[r(J,null,{default:a(()=>[e("label",null,[r(R,{checked:s(t).service,"onUpdate:checked":d[1]||(d[1]=k=>s(t).service=k),value:"bluesky"},null,8,["checked"]),d[5]||(d[5]=p(" Bluesky"))]),e("label",null,[r(R,{checked:s(t).service,"onUpdate:checked":d[2]||(d[2]=k=>s(t).service=k),value:"custom"},null,8,["checked"]),p(" "+i(m.$t("general.custom")),1)])]),_:1})]),_:1}),s(t).service==="custom"?(l(),u(B,{key:0,class:"mt-lg"},{title:a(()=>[p(i(m.$t("service.bluesky.server_address")),1)]),footer:a(()=>[r(ee,{message:s(t).errors.server},null,8,["message"])]),default:a(()=>[r(j,{type:"url",modelValue:s(t).server,"onUpdate:modelValue":d[3]||(d[3]=k=>s(t).server=k),error:s(t).errors.server,placeholder:"https://example.com",required:""},null,8,["modelValue","error"])]),_:1})):_("",!0),r(L,{disabled:s(t).service==="custom"&&!s(t).server||s(t).processing,isLoading:s(t).processing,size:"md",type:"submit",class:"mt-lg"},{icon:a(()=>[r(G)]),default:a(()=>[p(" "+i(m.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])],32)])):_("",!0)],2))}},vs={class:"flex items-center justify-center h-full border border-primary-800 rounded-lg hover:border-primary-500 hover:text-primary-500 transition-colors ease-in-out duration-200"},ks={class:"p-lg"},gs={class:"flex flex-col justify-center items-center"},bs={class:"mt-xs text-lg"},hs={__name:"GridAddElement",setup(v){return(o,t)=>(l(),x("span",vs,[e("span",ks,[e("span",gs,[r(se,{class:"w-7 h-7"}),e("span",bs,[xe(o.$slots,"default")])])])]))}},xs=()=>{const{notify:v}=E(),o=$e(()=>Z().props.errors);we(()=>o.value,t=>{v("error",te(t))})},$s={class:"w-full mx-auto row-py"},ws={class:"mt-lg row-px w-full"},ys={key:0,class:"mb-md"},Cs=["href"],As={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},Is={class:"flex flex-col justify-center relative"},Ss={key:0,class:"absolute top-0 left-0"},Ps={class:"w-md h-md bg-red-500 rounded-full"},Ts={class:"mt-sm font-semibold text-center break-words"},Ls={class:"mt-1 text-center text-stone-800"},Vs={class:"absolute top-0 right-0 mt-sm mr-sm"},Fs={class:"mt-xs"},zs={class:"flex flex-col"},yt={__name:"Accounts",setup(v){const{t:o}=W(),t=g("workspaceCtx"),n=g("routePrefix"),b=o("account.accounts"),{notify:m}=E(),d=I(!1),k=I(null),C=I(!1),$=c=>{T.put(route("mixpost.accounts.update",{workspace:t.id,account:c}),{},{preserveScroll:!0,onSuccess(A){A.props.flash.error||m("success",o("account.account_updated"))}})},h=()=>{T.delete(route(`${n}.accounts.delete`,{workspace:t.id,account:k.value}),{preserveScroll:!0,onStart(){C.value=!0},onSuccess(){k.value=null,m("success",o("account.account_deleted"))},onFinish(){C.value=!1}})},S=()=>{C.value||(k.value=null)},F=I(!1),w=U({uuid:null,name:""}),H=c=>{F.value=!0,w.uuid=c.uuid,w.name=c.suffix},z=()=>{F.value=null,w.reset()},K=()=>{w.put(route(`${n}.accounts.updateSuffix`,{workspace:t.id,account:w.uuid}),{onSuccess(){z()}})},O=c=>{T.post(route("mixpost.accounts.add",{workspace:t.id,provider:c.provider}),{},{preserveScroll:!0})};return xs(),(c,A)=>{const X=ye("tooltip");return l(),x(N,null,[r(s(Q),{title:s(b)},null,8,["title"]),e("div",$s,[r(ue,{title:s(b)},{description:a(()=>[p(i(s(o)("account.connect_social_account")),1)]),_:1},8,["title"]),e("div",ws,[r(Te,{isConfigured:c.$page.props.is_configured_service},null,8,["isConfigured"]),!c.$page.props.is_service_active.twitter&&c.$page.props.enterprise_config.workspace_twitter_service?(l(),x("div",ys,[r(Le,{variant:"warning",closeable:!1},{default:a(()=>[e("p",null,i(s(o)("service.not_configured_service",{service:"X"})),1)]),_:1}),r(J,null,{default:a(()=>[e("a",{href:`/${c.$page.props.mixpost.core_path}/${s(t).id}/workspace-services?redirect-to-accounts=true`,class:"mt-md block"},[r(L,null,{default:a(()=>[p(i(s(o)("service.configure_services")),1)]),_:1})],8,Cs)]),_:1})])):_("",!0),e("div",As,[e("button",{onClick:A[0]||(A[0]=f=>d.value=!0)},[r(hs,null,{default:a(()=>[p(i(s(o)("account.add_account")),1)]),_:1})]),(l(!0),x(N,null,Ce(c.$page.props.accounts,f=>(l(),u(pe,{key:f.id,class:"relative"},{default:a(()=>[e("div",Is,[r(de,{size:"lg","img-url":f.image,provider:f.provider,name:f.name,active:!0},null,8,["img-url","provider","name"]),f.authorized?_("",!0):(l(),x("div",Ss,[Ae(e("div",Ps,null,512),[[X,s(o)("account.unauthorized")]])])),e("div",Ts,i(f.name),1),e("div",Ls,i(s(o)("account.added"))+" "+i(f.created_at),1)]),e("div",Vs,[r(le,null,{trigger:a(()=>[r(ne,null,{default:a(()=>[r(Se)]),_:1})]),content:a(()=>[f.authorized?_("",!0):(l(),u(P,{key:0,as:"button",onClick:M=>O(f)},{icon:a(()=>[r(q)]),default:a(()=>[p(" "+i(s(o)("account.reauthenticate")||"Re-authenticate"),1)]),_:2},1032,["onClick"])),f.authorized?(l(),u(P,{key:1,onClick:M=>$(f.uuid),as:"button"},{icon:a(()=>[r(q)]),default:a(()=>[p(" "+i(s(o)("general.update")),1)]),_:2},1032,["onClick"])):_("",!0),r(P,{onClick:M=>H(f),as:"button"},{icon:a(()=>[r(ie)]),default:a(()=>[p(" "+i(s(o)("account.edit_suffix")),1)]),_:2},1032,["onClick"]),r(P,{onClick:M=>k.value=f.uuid,as:"button"},{icon:a(()=>[r(Pe,{class:"text-red-500"})]),default:a(()=>[p(" "+i(s(o)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))])])]),r(oe,{show:F.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:z},{header:a(()=>[p(i(s(o)("account.edit_account_suffix")),1)]),body:a(()=>[e("div",Fs,[r(j,{type:"text",modelValue:s(w).name,"onUpdate:modelValue":A[1]||(A[1]=f=>s(w).name=f),placeholder:s(o)("account.enter_suffix")},null,8,["modelValue","placeholder"])])]),footer:a(()=>[r(D,{onClick:z,class:"mr-xs"},{default:a(()=>[p(i(s(o)("general.close")),1)]),_:1}),r(L,{onClick:K,isLoading:s(w).processing,disabled:s(w).processing},{default:a(()=>[p(i(s(o)("general.save")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"]),r(re,{show:k.value!==null,onClose:S,variant:"danger"},{header:a(()=>[p(i(s(o)("account.delete_account")),1)]),body:a(()=>[p(i(s(o)("account.confirm_delete_account")),1)]),footer:a(()=>[r(D,{onClick:S,disabled:C.value,class:"mr-xs"},{default:a(()=>[p(i(s(o)("general.cancel")),1)]),_:1},8,["disabled"]),r(ce,{onClick:h,"is-loading":C.value,disabled:C.value},{default:a(()=>[p(i(s(o)("general.delete")),1)]),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),r(ae,{show:d.value,closeable:!0,onClose:A[2]||(A[2]=f=>d.value=!1)},{default:a(()=>[e("div",zs,[c.$page.props.is_service_active.facebook?(l(),u(je,{key:0})):_("",!0),c.$page.props.is_service_active.facebook?(l(),u(He,{key:1})):_("",!0),c.$page.props.is_service_active.threads?(l(),u(Xe,{key:2})):_("",!0),r(Ye),c.$page.props.is_service_active.bluesky?(l(),u(_s,{key:3})):_("",!0),c.$page.props.is_service_active.google?(l(),u(We,{key:4})):_("",!0),c.$page.props.is_service_active.pinterest?(l(),u(ts,{key:5})):_("",!0),c.$page.props.is_service_active.linkedin?(l(),u(as,{key:6})):_("",!0),c.$page.props.is_service_active.linkedin&&c.$page.props.additionally.linkedin_supports_pages?(l(),u(ls,{key:7})):_("",!0),c.$page.props.is_service_active.tiktok?(l(),u(ps,{key:8})):_("",!0),c.$page.props.is_service_active.twitter?(l(),u(ze,{key:9})):_("",!0)])]),_:1},8,["show"])],64)}}};export{yt as default};

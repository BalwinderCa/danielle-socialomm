import{O as y,Z as C}from"./@inertiajs-D-tiTHlX.js";import"./app-Bood2A1f.js";import{u as x}from"./useRouter-DnIfGIz6.js";import{l as f}from"./lodash-1tNnn4nO.js";import{_ as B}from"./PageHeader-5KlQKxZu.js";import{_ as D}from"./WebhookAction-XD-oE81N.js";import{_ as O}from"./Panel-C3_mBW3b.js";import{_ as j}from"./Flex-55yEXw9x.js";import{_ as N}from"./Pagination-BTQBy8Tc.js";import{_ as V}from"./NoResult-4Hlh7_BA.js";import{_ as E,a as S}from"./WebhookDeliveryItemView-DBsAITYB.js";import{T,_ as v}from"./Tab-gMbHW_qz.js";import{aJ as u,r as $,f as q,w as F,l as k,E as i,u as I,x as a,z as r,C as w,F as b,k as l,ak as c,A as d,q as P,y as h}from"./@vue-DxEuNGre.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./emoji-mart-vue-fast-DVezNdb5.js";import"./vue-i18n-CbxO4HOa.js";import"./@intlify-AYDeHhOU.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./Trash-CGBHVq5p.js";import"./QueueList-DTZpFIOW.js";import"./ChevronLeft-Cx_QtWsr.js";import"./Clock-BpaLntn3.js";import"./highlight.js-BQHIPuhb.js";import"./pretty-kgrIdtEn.js";import"./js-beautify-CVGnPpPe.js";import"./condense-newlines-72lYqSqC.js";import"./is-whitespace-1csfIJn2.js";import"./extend-shallow-heY_3iO8.js";import"./kind-of-CAAF0pfw.js";import"./is-buffer-DoLxFxiE.js";import"./SectionTitle-DlhdjqIe.js";import"./SectionBorder-_k-DEA9C.js";import"./Refresh-BG68H2OY.js";const z={class:"w-full mx-auto row-py"},A={class:"text-gray-500"},J={class:"row-px"},L={class:"w-full mt-lg"},M={class:"w-full md:w-1/2 border-r border-gray-100"},R={class:"w-full md:w-1/2"},W={key:0,class:"mt-lg"},He={__name:"WebhookDeliveries",props:{filter:{type:Object,default:{}},webhook:{type:Object,required:!0},deliveries:{type:Object}},setup(e){const p=e;u("routePrefix");const g=u("workspaceCtx");u("confirmation"),u("authPasswordConfirmation"),x();const m=$({status:p.filter.status}),n=$(null);q(()=>{p.deliveries.data.length&&_(p.deliveries.data[0])});const _=t=>{n.value=t};return F(()=>f.cloneDeep(m.value),f.throttle(()=>{y.get(route("mixpost.webhooks.deliveries.index",{workspace:g.id,webhook:p.webhook.id}),f.pickBy(m.value),{preserveState:!0,preserveScroll:!0,only:["deliveries","filter"]})},300)),(t,s)=>(l(),k(b,null,[i(I(C),{title:t.$t("webhook.deliveries")},null,8,["title"]),a("div",z,[i(B,{title:t.$t("webhook.deliveries")},{description:r(()=>[c(d(e.webhook.name)+" ",1),a("div",A,d(e.webhook.callback_url),1)]),default:r(()=>[i(D,{record:e.webhook,create:!1,deliveries:!1},null,8,["record"])]),_:1},8,["title"]),a("div",J,[a("div",L,[i(T,null,{default:r(()=>[i(v,{onClick:s[0]||(s[0]=o=>m.value.status=null),active:!t.$page.props.filter.status},{default:r(()=>[c(d(t.$t("general.all")),1)]),_:1},8,["active"]),i(v,{onClick:s[1]||(s[1]=o=>m.value.status="success"),active:t.$page.props.filter.status==="success"},{default:r(()=>[c(d(t.$t("general.succeeded")),1)]),_:1},8,["active"]),i(v,{onClick:s[2]||(s[2]=o=>m.value.status="error"),active:t.$page.props.filter.status==="error"},{default:r(()=>[c(d(t.$t("general.failed")),1)]),_:1},8,["active"])]),_:1})]),i(O,{class:"mt-lg","with-padding":!1},{default:r(()=>[i(j,{gap:"gap-0"},{default:r(()=>[a("div",M,[(l(!0),k(b,null,P(e.deliveries.data,o=>(l(),h(E,{key:o.id,item:o,active:n.value&&n.value.id===o.id,onClick:Z=>_(o)},null,8,["item","active","onClick"]))),128)),e.deliveries.meta.total?w("",!0):(l(),h(V,{key:0,class:"py-md px-md"}))]),a("div",R,[n.value?(l(),h(S,{key:0,webhookId:e.webhook.id,delivery:n.value},null,8,["webhookId","delivery"])):w("",!0)])]),_:1})]),_:1}),e.deliveries.meta.links.length>3?(l(),k("div",W,[i(N,{meta:e.deliveries.meta,links:e.deliveries.links},null,8,["meta","links"])])):w("",!0)])])],64))}};export{He as default};

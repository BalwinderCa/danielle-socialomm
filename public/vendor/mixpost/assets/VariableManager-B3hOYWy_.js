const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EmojiMart-2g5Fvsf_.js","assets/emoji-mart-vue-fast-DVezNdb5.js","assets/@vue-DxEuNGre.js","assets/emoji-mart-vue-fast-CIKiYTla.css"])))=>i.map(i=>d[i]);
import{d as $e,u as be,H as ke,P as ye,g as we,a as xe}from"./@tiptap-DlxRGiDd.js";import{u as se}from"./vue-i18n-CbxO4HOa.js";import{u as ae,H as Ce,a as Ee,V as Me}from"./Variable-DSCy-U-5.js";import{Q as Pe,o as I,q as T,k as Q,f as Ve,c as j,X as Se,a as A,i as O,l as Le,d as Ie,g as oe,j as F,m as ne,h as le,n as je}from"./app-DKo9pbIL.js";import{P as Ae,a as Be}from"./prosemirror-state-Dfkm3xtq.js";import{c as He,F as Te,S as qe}from"./prosemirror-model-C-VrLeHJ.js";import{b as L,br as De,r as w,f as J,o as Ue,w as Fe,k as s,l as x,E as n,u as E,J as W,t as re,x as h,y as g,b8 as q,z as t,G as D,al as Ne,aJ as U,ak as $,A as p,C,F as H,q as K,B as Oe,O as ze,bN as ie}from"./@vue-DxEuNGre.js";import{_ as z}from"./emoji-mart-vue-fast-DVezNdb5.js";import{u as Ge,_ as Qe,a as Je,b as We,c as Ke}from"./MediaGifs-DmYSUvCw.js";import{T as Re,_ as Xe}from"./Tab-gMbHW_qz.js";import{l as Y}from"./lodash-1tNnn4nO.js";import{D as Ye}from"./vuedraggable-OGJnKJQC.js";import{K as Z}from"./@inertiajs-D-tiTHlX.js";import{_ as Ze}from"./MediaFile-CRJPtfzT.js";import{N as P}from"./nprogress-34pYfWsY.js";import{E as ue}from"./EllipsisVertical-DX5Zf3Qx.js";import{T as de}from"./Trash-CGBHVq5p.js";import{_ as ce,L as me}from"./ListItem-CZIJw31K.js";import{_ as pe}from"./NoResult-Bw7G-sLT.js";import{_ as fe}from"./Textarea-XqA1xqrh.js";import{_ as N}from"./VerticalGroup-0ogbRp0b.js";const et=()=>{const{isWorkspaceEditorRole:f}=Pe(),l=L(()=>Z().props.post),u=L(()=>l.value?l.value.id:null),d=L(()=>l.value?["published","failed"].includes(l.value.status):!1),o=L(()=>l.value?l.value.status==="publishing":!1),r=L(()=>l.value?l.value.status==="needs_approval":!1),e=L(()=>!(d.value||o.value||l.value&&l.value.trashed||!f.value)),b=L(()=>Z().props.user_can_approve);return{postId:u,isInHistory:d,isScheduleProcessing:o,needsApproval:r,editAllowed:e,userCanApprove:b}},tt=$e.create({name:"StripLinksOnPaste",addProseMirrorPlugins(){return[new Ae({key:new Be("StripLinksOnPaste"),props:{transformPastedHTML(f){return f.replace(/<a[^>]*>/g,"").replace(/<\/a>/g,"")}}})]}}),st=(f,l,u)=>{const d=f.replace().split(/(?:\r\n?|\n)/),o=[];d.forEach(e=>{const b={type:"div"};e.length>0&&(b.content=[{type:"text",text:e}]);const i=He.fromJSON(l.doc.type.schema,b);o.push(i)});const r=Te.fromArray(o);return qe.maxOpen(r)},_s={__name:"Editor",props:{value:{required:!0},editable:{type:Boolean,default:!0},placeholder:{type:String,default:""}},emits:["update"],setup(f,{emit:l}){const{t:u}=se(),d=De(),o=f,r=l,e=w(!1),{defaultExtensions:b}=ae(),i=be({editable:o.editable,content:o.value,extensions:[...b,ke,ye.configure({placeholder:o.placeholder?o.placeholder:u("post.start_write")}),we.configure({openDoubleQuote:!1,closeDoubleQuote:!1,openSingleQuote:!1,closeSingleQuote:!1}),tt,Ce,Ee,Me],editorProps:{attributes:{class:"focus:outline-none min-h-[150px]"},clipboardTextParser:st},onUpdate:()=>{r("update",i.value.getHTML())},onFocus:()=>{e.value=!0},onBlur:()=>{e.value=!1}}),_=a=>d.hasOwnProperty("id")&&a===d.id;return J(()=>{I.on("insertEmoji",a=>{_(a.editorId)&&i.value.commands.insertContent(a.emoji.native)}),I.on("insertContent",a=>{_(a.editorId)&&i.value.commands.insertContent(a.text)}),I.on("replaceContent",a=>{_(a.editorId)&&(i.value.commands.clearContent(),i.value.commands.insertContent(a.text))}),I.on("focusEditor",a=>{_(a.editorId)&&i.value.commands.focus()})}),Ue(()=>{i.value.destroy(),I.off("insertEmoji"),I.off("insertContent"),I.off("replaceContent"),I.off("focusEditor")}),Fe(()=>o.value,a=>{a!==i.value.getHTML()&&i.value.commands.setContent(a)}),(a,m)=>(s(),x("div",{class:re([{"border-primary-200 ring ring-primary-200 ring-opacity-50":e.value},"border border-gray-200 rounded-lg p-md pb-xs text-base transition-colors ease-in-out duration-200"])},[n(E(xe),{editor:E(i)},null,8,["editor"]),W(a.$slots,"default")],2))}},at={},ot={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function nt(f,l){return s(),x("svg",ot,l[0]||(l[0]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const lt=z(at,[["render",nt]]),rt={__name:"EmojiPreloader",setup(f){return(l,u)=>(s(),g(T,{class:"!relative !h-24 !w-[353px]"}))}},it={class:"flex"},ut={type:"button",class:"hover:text-orange-500 transition-colors ease-in-out duration-200 outline-none text-stone-800"},gs={__name:"EmojiPicker",props:{closeOnSelect:{type:Boolean,default:!1},tooltip:{type:String,default:"Emoji"}},emits:["selected","close"],setup(f,{emit:l}){const u=Ne({loader:()=>Ve(()=>import("./EmojiMart-2g5Fvsf_.js"),__vite__mapDeps([0,1,2,3])),loadingComponent:rt}),d=l,o=r=>{d("selected",r)};return(r,e)=>{const b=q("tooltip");return s(),g(Q,{placement:"bottom-start","closeable-on-content":f.closeOnSelect,"width-classes":"w-auto",onClose:e[0]||(e[0]=i=>r.$emit("close"))},{trigger:t(()=>[h("div",it,[D((s(),x("button",ut,[n(lt)])),[[b,f.tooltip]])])]),content:t(()=>[n(E(u),{onSelect:o})]),_:1},8,["closeable-on-content"])}}},dt={class:"mt-lg"},ct={__name:"AddMedia",props:{maxSelection:{type:Number,default:1},combinesMimeTypes:{type:String,default:""}},emits:["insert"],setup(f,{emit:l}){const u=U("workspaceCtx"),d=l,{insertContent:o}=ae(),r=w(!1),{activeTab:e,tabs:b,isDownloading:i,downloadExternal:_,getMediaCrediting:a}=Ge("mixpost.media.fetchStock",{workspace:u.id}),m={uploads:Qe,stock:Je,gifs:We,healthinomics:Ke},k=w(),v=L(()=>m[e.value]),c=L(()=>k.value?k.value.selected:[]),V=()=>{k.value.deselectAll()},y=()=>{V(),r.value=!1,e.value="uploads"},_e=()=>{const M=e.value!=="uploads"&&e.value!=="healthinomics";M&&_(c.value.map(S=>{const{id:G,url:B,source:X,author:ge,download_data:he}=S;return{id:G,url:B,source:X,author:ge,download_data:he}}),S=>{d("insert",S.data),R(S.data),y()}),M||(d("insert",c.value),R(c.value),y())},R=M=>{const S=a(M);S&&o({editorId:"postEditor",text:S})};return(M,S)=>{const G=q("tooltip");return s(),x(H,null,[h("div",{onClick:S[0]||(S[0]=B=>r.value=!r.value)},[W(M.$slots,"default")]),n(O,{show:r.value,"max-width":"2xl",closeable:!0,"scrollable-body":!0,onClose:y},{header:t(()=>[$(p(M.$t("media.add_media")),1)]),body:t(()=>[E(i)?(s(),g(T,{key:0,opacity:75},{default:t(()=>[$(p(M.$t("media.downloading")),1)]),_:1})):C("",!0),n(Re,null,{default:t(()=>[(s(!0),x(H,null,K(E(b),B=>(s(),g(Xe,{onClick:X=>e.value=B,active:E(e)===B},{default:t(()=>[$(p(M.$t(`media.${B}`)),1)]),_:2},1032,["onClick","active"]))),256))]),_:1}),h("div",dt,[(s(),g(Oe(v.value),{ref_key:"sourceProperties",ref:k},null,512))])]),footer:t(()=>[n(j,{onClick:y,class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:t(()=>[$(p(M.$t("general.cancel")),1)]),_:1}),c.value.length?(s(),x(H,{key:0},[D((s(),g(j,{onClick:V,class:"mr-xs rtl:mr-0 rtl:ml-xs"},{icon:t(()=>[n(Se)]),_:1})),[[G,M.$t("general.dismiss"),void 0,{top:!0}]]),n(A,{onClick:_e},{default:t(()=>[$(p(M.$t("general.insert"))+" "+p(c.value.length)+" "+p(M.$t("general.items")),1)]),_:1})],64)):C("",!0)]),_:1},8,["show"])],64)}}},mt={type:"button",class:"text-stone-800 hover:text-primary-500 transition-colors ease-in-out duration-200"},hs={__name:"PostAddMedia",emits:["insert"],setup(f){return(l,u)=>{const d=q("tooltip");return s(),g(ct,{onInsert:u[0]||(u[0]=o=>l.$emit("insert",o))},{default:t(()=>[D((s(),x("button",mt,[n(Le)])),[[d,l.$t("post.media")]])]),_:1})}}},pt=["onClick"],ft={class:"mb-xs text-sm"},vt={key:0,class:"w-auto h-full",controls:""},_t=["src","type"],gt=["src"],$s={__name:"PostMedia",props:{media:{type:Array,required:!0}},emits:["updated"],setup(f,{emit:l}){const u=f,d=l,{editAllowed:o}=et(),r=w(!1),e=w({}),b=m=>Y.startsWith(m,"video"),i=m=>{e.value=m,r.value=!0},_=()=>{r.value=!1,e.value={}},a=m=>{const k=u.media.findIndex(c=>c.id===m),v=Y.clone(u.media);v.splice(k,1),d("updated",v),_()};return(m,k)=>(s(),x(H,null,[h("div",{class:re({"mt-xs":f.media.length})},[n(E(Ye),ze({list:f.media,disabled:!E(o)},{animation:200,group:"media"},{"item-key":"id",class:"flex flex-wrap gap-xs"}),{item:t(({element:v})=>[h("div",{role:"button",class:"cursor-pointer",onClick:c=>i(v)},[n(Ze,{media:v,"img-height":"sm",imgWidthFull:!1,showCaption:!1},null,8,["media"])],8,pt)]),_:1},16,["list","disabled"])],2),n(O,{show:r.value,onClose:_},{header:t(()=>[$(p(m.$t("post.view_media")),1)]),body:t(()=>[h("figure",null,[h("figcaption",ft,p(e.value.name),1),b(e.value.mime_type)?(s(),x("video",vt,[h("source",{src:e.value.url,type:e.value.mime_type},null,8,_t),$(" "+p(m.$t("error.browser_video_unsupported")),1)])):(s(),x("img",{key:1,src:e.value.url,alt:"Image"},null,8,gt))])]),footer:t(()=>[n(j,{onClick:_,class:"mr-xs"},{default:t(()=>[$(p(m.$t("general.close")),1)]),_:1}),E(o)?(s(),g(Ie,{key:0,onClick:k[0]||(k[0]=v=>a(e.value.id))},{default:t(()=>[$(p(m.$t("general.remove")),1)]),_:1})):C("",!0)]),_:1},8,["show"])],64))}},ht={},$t={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function bt(f,l){return s(),x("svg",$t,l[0]||(l[0]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"},null,-1)]))}const ee=z(ht,[["render",bt]]),kt={},yt={type:"button",class:"text-stone-800 hover:text-primary-500 transition-colors ease-in-out duration-200"};function wt(f,l){return s(),x("button",yt,[W(f.$slots,"default")])}const ve=z(kt,[["render",wt]]),xt={class:"relative mt-sm"},Ct={class:"flex items-center justify-between"},Et={class:"w-full"},Mt={class:"text-gray-500"},Pt={class:"flex justify-end"},Vt={__name:"HashtagGroups",props:{groups:{type:Array,default:[]}},emits:["update","edit","insert"],setup(f,{emit:l}){const u=U("workspaceCtx"),d=f,o=l,r=w(!1),e=()=>{P.start(),d.groups.length||(r.value=!0),axios.get(route("mixpost.hashtaggroups.index",{workspace:u.id})).then(i=>{o("update",i.data.data)}).finally(()=>{P.done(),r.value=!1})},b=i=>{axios.delete(route("mixpost.hashtaggroups.delete",{workspace:u.id,hashtaggroup:i.id})),o("update",d.groups.filter(_=>_.id!==i.id))};return J(()=>{e()}),(i,_)=>(s(),x("div",xt,[!f.groups.length&&r.value?(s(),g(T,{key:0})):C("",!0),!f.groups.length&&!r.value?(s(),g(pe,{key:1},{default:t(()=>[$(p(i.$t("hashtag.dont_have_groups")),1)]),_:1})):(s(),g(me,{key:2},{default:t(()=>[(s(!0),x(H,null,K(f.groups,a=>(s(),g(ce,{key:a.id,class:"group"},{default:t(()=>[h("div",Ct,[h("div",Et,[h("div",null,p(a.name),1),h("div",Mt,p(a.content),1)]),h("div",Pt,[n(A,{onClick:m=>i.$emit("insert",a.content),size:"sm",class:"group-visible mr-xs"},{default:t(()=>[$(p(i.$t("general.insert")),1)]),_:2},1032,["onClick"]),n(Q,{placement:"bottom-end"},{trigger:t(()=>[n(oe,{class:"mt-1"},{default:t(()=>[n(ue)]),_:1})]),content:t(()=>[n(F,{onClick:m=>i.$emit("edit",a),as:"button"},{default:t(()=>[n(ne,{class:"!w-5 !h-5 mr-1"}),$(" "+p(i.$t("general.edit")),1)]),_:2},1032,["onClick"]),n(F,{onClick:m=>b(a),as:"button"},{default:t(()=>[n(de,{class:"!w-5 !h-5 mr-1 text-red-500"}),$(" "+p(i.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])])]),_:2},1024))),128))]),_:1}))]))}},St={for:"group_name"},Lt={for:"group_content"},It={__name:"HashtagGroupForm",props:{group:{type:[Object,null],required:!1}},emits:["store","update"],setup(f,{emit:l}){const u=U("workspaceCtx"),d=f,o=l,r=w(!1),e=w({name:d.group?d.group.name:"",content:d.group?d.group.content:""}),b=()=>{P.start(),r.value=!0,axios.post(route("mixpost.hashtaggroups.store",{workspace:u.id}),e.value).then(a=>{o("store",a.data)}).finally(()=>{P.done(),r.value=!1})},i=()=>{P.start(),r.value=!0,axios.put(route("mixpost.hashtaggroups.update",{workspace:u.id,hashtaggroup:d.group.id}),e.value).then(()=>{o("update",e.value),P.done(),r.value=!1})},_=()=>{if(d.group){i();return}b()};return(a,m)=>(s(),x("form",{onSubmit:ie(_,["prevent"])},[n(N,null,{title:t(()=>[h("label",St,p(a.$t("hashtag.hashtag_name")),1)]),default:t(()=>[n(le,{type:"text",modelValue:e.value.name,"onUpdate:modelValue":m[0]||(m[0]=k=>e.value.name=k),id:"group_name",required:""},null,8,["modelValue"])]),_:1}),n(N,{class:"mt-sm"},{title:t(()=>[h("label",Lt,p(a.$t("hashtag.hashtag_content")),1)]),default:t(()=>[n(fe,{modelValue:e.value.content,"onUpdate:modelValue":m[1]||(m[1]=k=>e.value.content=k),id:"group_content",rows:"3",class:"resize-none",required:""},null,8,["modelValue"])]),_:1}),n(A,{type:"submit",isLoading:r.value,class:"mt-sm"},{default:t(()=>[$(p(a.$t("hashtag.save_hashtag_group")),1)]),_:1},8,["isLoading"])],32))}},jt={class:"flex items-center"},bs={__name:"HashtagManager",props:{editAllowed:{type:Boolean,default:!0}},emits:["insert"],setup(f,{emit:l}){const u=w(!1),d=w(!1),o=w(null),r=w(null),e=w([]),b=()=>{u.value=!0,_()},i=()=>{u.value=!1,o.value=null},_=()=>{o.value="groups"},a=(v=null)=>{r.value=v,o.value="form"},m=v=>{e.value.unshift(v)},k=v=>{const c=e.value.findIndex(V=>V.id===v.id);c!==-1&&(e.value[c]=v)};return(v,c)=>{const V=q("tooltip");return s(),x("div",null,[D((s(),g(ve,{onClick:b},{default:t(()=>[n(ee)]),_:1})),[[V,v.$t("hashtag.open_hashtag")]]),n(O,{show:u.value,"max-width":"lg",closeable:!0,"scrollable-body":!0,onClose:i},{header:t(()=>[h("div",jt,[n(ee,{class:"mr-xs"}),$(" "+p(v.$t("hashtag.hashtag_manager")),1)])]),body:t(()=>[d.value?(s(),g(T,{key:0,opacity:50})):C("",!0),o.value==="groups"?(s(),g(Vt,{key:1,groups:e.value,onUpdate:c[0]||(c[0]=y=>e.value=y),onEdit:c[1]||(c[1]=y=>a(y)),onInsert:c[2]||(c[2]=y=>{v.$emit("insert",y),i()})},null,8,["groups"])):C("",!0),o.value==="form"?(s(),g(It,{key:2,group:r.value,onStore:c[3]||(c[3]=y=>{m(y),_()}),onUpdate:c[4]||(c[4]=y=>{k(y),_()})},null,8,["group"])):C("",!0)]),footer:t(()=>[o.value==="groups"?(s(),g(A,{key:0,onClick:c[5]||(c[5]=()=>{a()}),class:"mr-xs"},{default:t(()=>[$(p(v.$t("hashtag.new_hashtag_group")),1)]),_:1})):C("",!0),o.value==="form"?(s(),g(j,{key:1,onClick:_,class:"mr-xs"},{default:t(()=>[$(p(v.$t("general.go_back")),1)]),_:1})):C("",!0),n(j,{onClick:i},{default:t(()=>[$(p(v.$t("general.done")),1)]),_:1})]),_:1},8,["show"])])}}},At={class:"relative mt-sm"},Bt={class:"flex items-center justify-between"},Ht={class:"w-full"},Tt={class:"flex"},qt={class:"text-primary-500 font-medium mr-xs"},Dt={class:"text-gray-500"},Ut={class:"flex justify-end"},Ft={__name:"VariableList",props:{variables:{type:Array,default:[]}},emits:["update","edit","insert"],setup(f,{emit:l}){const{t:u}=se(),d=U("workspaceCtx"),o=f,r=l,e=w(!1),b=()=>{P.start(),o.variables.length||(e.value=!0),axios.get(route("mixpost.variables.index",{workspace:d.id})).then(_=>{r("update",[{id:"platform",name:"platform",value:u("variable.platform_post"),default:!0},{id:"account",name:"account",value:u("variable.name_account"),default:!0},..._.data.data])}).finally(()=>{P.done(),e.value=!1})},i=_=>{axios.delete(route("mixpost.variables.delete",{workspace:d.id,variable:_.id})),r("update",o.variables.filter(a=>a.id!==_.id))};return J(()=>{b()}),(_,a)=>(s(),x("div",At,[!f.variables.length&&e.value?(s(),g(T,{key:0})):C("",!0),!f.variables.length&&!e.value?(s(),g(pe,{key:1},{default:t(()=>[$(p(E(u)("variable.dont_have_variables")),1)]),_:1})):(s(),g(me,{key:2},{default:t(()=>[(s(!0),x(H,null,K(f.variables,m=>(s(),g(ce,{key:m.id,class:"group"},{default:t(()=>[h("div",Bt,[h("div",Ht,[h("div",Tt,[h("div",qt," {{"+p(m.name)+"}} ",1),m.default?(s(),g(je,{key:0},{default:t(()=>[$(p(E(u)("general.default")),1)]),_:1})):C("",!0)]),h("div",Dt,p(m.value),1)]),h("div",Ut,[n(A,{onClick:k=>_.$emit("insert",`{{${m.name}}}`),size:"sm",class:"group-visible mr-xs"},{default:t(()=>[$(p(E(u)("general.use")),1)]),_:2},1032,["onClick"]),m.default?C("",!0):(s(),g(Q,{key:0,placement:"bottom-end"},{trigger:t(()=>[n(oe,{class:"mt-1"},{default:t(()=>[n(ue)]),_:1})]),content:t(()=>[n(F,{onClick:k=>_.$emit("edit",m),as:"button"},{default:t(()=>[n(ne,{class:"!w-5 !h-5 mr-1"}),$(" "+p(E(u)("general.edit")),1)]),_:2},1032,["onClick"]),n(F,{onClick:k=>i(m),as:"button"},{default:t(()=>[n(de,{class:"!w-5 !h-5 mr-1 text-red-500"}),$(" "+p(E(u)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024))])])]),_:2},1024))),128))]),_:1}))]))}},Nt={for:"variable_name"},Ot={for:"variable_value"},zt={__name:"VariableForm",props:{variable:{type:[Object,null],required:!1}},emits:["store","update"],setup(f,{emit:l}){const u=U("workspaceCtx"),d=f,o=l,r=w(!1),e=w({name:d.variable?d.variable.name:"",value:d.variable?d.variable.value:""}),b=()=>{P.start(),r.value=!0,axios.post(route("mixpost.variables.store",{workspace:u.id}),e.value).then(a=>{o("store",a.data)}).finally(()=>{P.done(),r.value=!1})},i=()=>{P.start(),r.value=!0,axios.put(route("mixpost.variables.update",{workspace:u.id,variable:d.variable.id}),e.value).then(()=>{o("update",e.value),P.done(),r.value=!1})},_=()=>{if(d.variable){i();return}b()};return(a,m)=>(s(),x("form",{onSubmit:ie(_,["prevent"])},[n(N,null,{title:t(()=>[h("label",Nt,p(a.$t("general.name")),1)]),default:t(()=>[n(le,{type:"text",modelValue:e.value.name,"onUpdate:modelValue":m[0]||(m[0]=k=>e.value.name=k),id:"variable_name",required:""},null,8,["modelValue"])]),_:1}),n(N,{class:"mt-sm"},{title:t(()=>[h("label",Ot,p(a.$t("variable.value")),1)]),default:t(()=>[n(fe,{modelValue:e.value.value,"onUpdate:modelValue":m[1]||(m[1]=k=>e.value.value=k),id:"variable_value"},null,8,["modelValue"])]),_:1}),n(A,{type:"submit",isLoading:r.value,class:"mt-sm"},{default:t(()=>[$(p(a.$t("variable.save_variable")),1)]),_:1},8,["isLoading"])],32))}},Gt={},Qt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Jt(f,l){return s(),x("svg",Qt,l[0]||(l[0]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.745 3A23.933 23.933 0 003 12c0 3.183.62 6.22 1.745 9M19.5 3c.967 2.78 1.5 5.817 1.5 9s-.533 6.22-1.5 9M8.25 8.885l1.444-.89a.75.75 0 011.105.402l2.402 7.206a.75.75 0 001.104.401l1.445-.889m-8.25.75l.213.09a1.687 1.687 0 002.062-.617l4.45-6.676a1.688 1.688 0 012.062-.618l.213.09"},null,-1)]))}const te=z(Gt,[["render",Jt]]),Wt={class:"flex items-center"},ks={__name:"VariableManager",props:{editAllowed:{type:Boolean,default:!0}},emits:["insert"],setup(f,{emit:l}){const u=w(!1),d=w(!1),o=w(null),r=w(null),e=w([]),b=()=>{u.value=!0,_()},i=()=>{u.value=!1,o.value=null},_=()=>{o.value="list"},a=(v=null)=>{r.value=v,o.value="form"},m=v=>{e.value.unshift(v)},k=v=>{const c=e.value.findIndex(V=>V.id===v.id);c!==-1&&(e.value[c]=v)};return(v,c)=>{const V=q("tooltip");return s(),x("div",null,[D((s(),g(ve,{onClick:b},{default:t(()=>[n(te)]),_:1})),[[V,v.$t("variable.open_variable_manager")]]),n(O,{show:u.value,"max-width":"2xl",closeable:!0,"scrollable-body":!0,onClose:i},{header:t(()=>[h("div",Wt,[n(te,{class:"mr-xs"}),$(" "+p(v.$t("variable.variable_manager")),1)])]),body:t(()=>[d.value?(s(),g(T,{key:0,opacity:50})):C("",!0),o.value==="list"?(s(),g(Ft,{key:1,variables:e.value,onUpdate:c[0]||(c[0]=y=>e.value=y),onEdit:c[1]||(c[1]=y=>a(y)),onInsert:c[2]||(c[2]=y=>{v.$emit("insert",y),i()})},null,8,["variables"])):C("",!0),o.value==="form"?(s(),g(zt,{key:2,variable:r.value,onStore:c[3]||(c[3]=y=>{m(y),_()}),onUpdate:c[4]||(c[4]=y=>{k(y),_()})},null,8,["variable"])):C("",!0)]),footer:t(()=>[o.value==="list"?(s(),g(A,{key:0,onClick:c[5]||(c[5]=()=>{a()}),class:"mr-xs"},{default:t(()=>[$(p(v.$t("variable.new_variable")),1)]),_:1})):C("",!0),o.value==="form"?(s(),g(j,{key:1,onClick:_,class:"mr-xs"},{default:t(()=>[$(p(v.$t("general.go_back")),1)]),_:1})):C("",!0),n(j,{onClick:i},{default:t(()=>[$(p(v.$t("general.done")),1)]),_:1})]),_:1},8,["show"])])}}};export{ve as E,tt as S,_s as _,$s as a,gs as b,hs as c,bs as d,ks as e,st as f,et as u};

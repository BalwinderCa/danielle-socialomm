import{O as E,T as X,K as R,Z as Y,i as ee}from"./@inertiajs-D-tiTHlX.js";import{u as j}from"./vue-i18n-CbxO4HOa.js";import{_ as te}from"./Admin-BmY5gXra.js";import{j as A,m as ae,k as oe,o as O,u as q,n as L,p as se,e as w,c as N,h as D,i as re,a as le}from"./app-DrYJbhZh.js";import{u as ne}from"./useSelectable-B_73QrI2.js";import{_ as ie}from"./PageHeader-5KlQKxZu.js";import{_ as me}from"./PureDangerButton-BpJxGdZl.js";import{_ as ue}from"./Panel-C3_mBW3b.js";import{_ as T}from"./Checkbox-CdCvF_Az.js";import{_ as d,a as G,T as de}from"./TableCell-CdlC4-rl.js";import{_ as ce}from"./SelectableBar-iH6lI9K9.js";import{_ as pe}from"./NoResult-DQ-W_W23.js";import{T as J}from"./Trash-CGBHVq5p.js";import{_ as _e}from"./DropdownButton-BUtT444l.js";import{_ as fe}from"./PureButtonLink-Cm9jQ4_3.js";import{A as ge}from"./ArrowTopRightOnSquare-BBcEejN-.js";import{aJ as S,r as M,b8 as z,k as c,l as C,x as f,G as K,u as a,y as v,z as e,E as t,ak as r,A as l,J as he,C as Z,F as U,f as $e,b1 as be,w as ve,d as ke,aO as B,q as ye}from"./@vue-DxEuNGre.js";import{_ as P}from"./VerticalGroup-0ogbRp0b.js";import{_ as I}from"./LabelSuffix-Di2RYCr8.js";import{_ as F}from"./SuccessButton-Cilyraeq.js";import{_ as xe}from"./UploadButton-DDAJ3vfE.js";import{_ as we}from"./Flex-55yEXw9x.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./@intlify-AYDeHhOU.js";import"./emoji-mart-vue-fast-DVezNdb5.js";import"./QueueList-DTZpFIOW.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./lodash-1tNnn4nO.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./EllipsisVertical-DX5Zf3Qx.js";const Pe={class:"flex flex-row items-center justify-end gap-xs"},Se={__name:"PageItemAction",props:{itemId:{type:String,required:!0},urlPath:{type:String,required:!0}},emits:["onDelete"],setup(i,{emit:o}){const{t:u}=j(),p=S("routePrefix"),k=S("confirmation"),h=i,x=o,{notify:g}=q(),s=M(!1),b=()=>{k().title(u("page.delete_pages")).description(u("page.confirm_delete_pages")).destructive().onConfirm(_=>{_.isLoading(!0),E.delete(route(`${p}.pages.delete`,{page:h.itemId}),{onSuccess(){s.value=!1,g("success",u("page.page_deleted")),x("onDelete"),O.emit("pageDelete",h.itemId),_.reset()},onFinish(){_.close()}})}).show()};return(_,n)=>{const m=z("tooltip");return c(),C("div",null,[f("div",Pe,[K((c(),v(fe,{href:_.route(`${a(p)}.pages.show`,{slug:i.urlPath}),native:!0,target:"_blank"},{default:e(()=>[t(ge)]),_:1},8,["href"])),[[m,a(u)("general.open")]]),t(oe,{placement:"bottom-end"},{trigger:e(()=>[t(_e)]),content:e(()=>[t(A,{href:_.route(`${a(p)}.pages.edit`,{page:i.itemId})},{icon:e(()=>[t(ae)]),default:e(()=>[r(" "+l(a(u)("general.edit")),1)]),_:1},8,["href"]),t(A,{onClick:b,as:"button"},{icon:e(()=>[t(J,{class:"text-red-500"})]),default:e(()=>[r(" "+l(a(u)("general.delete")),1)]),_:1})]),_:1})])])}}},Ce={__name:"PageItem",props:{item:{type:Object,required:!0}},setup(i){return(o,u)=>(c(),v(G,{hoverable:!0},{default:e(()=>[t(d,{class:"w-10"},{default:e(()=>[he(o.$slots,"checkbox")]),_:3}),t(d,null,{default:e(()=>[r(l(i.item.name),1)]),_:1}),t(d,null,{default:e(()=>[r(l(i.item.slug),1)]),_:1}),t(d,null,{default:e(()=>[i.item.status?(c(),v(L,{key:0,variant:"success"},{default:e(()=>[r(l(o.$t("general.enabled")),1)]),_:1})):(c(),v(L,{key:1,variant:"error"},{default:e(()=>[r(l(o.$t("general.disabled")),1)]),_:1}))]),_:1}),t(d,null,{default:e(()=>[r(l(i.item.created_at),1)]),_:1}),t(d,null,{default:e(()=>[t(Se,{itemId:i.item.uuid,urlPath:i.item.url_path},null,8,["itemId","urlPath"])]),_:1})]),_:3}))}},Ve={for:"brand_name"},De=["src"],Ie={for:"brand_name"},Oe={for:"email"},Te={for:"register_url"},Ue={class:"ml-xs"},je={__name:"GeneratePageSamples",setup(i){const{t:o}=j(),u=S("routePrefix"),p=M(!1),k=()=>{p.value=!0},h=()=>{p.value=!1},{user:x}=se(),{notify:g}=q(),s=X({logo_url:R().props.mixpost.theme.logo,brand_name:R().props.app.name,email:x.value.email,register_url:"",destroy:!1}),b=()=>{s.post(route(`${u}.pages.generateSamples`),{preserveScroll:!0,onSuccess(){g("success",o("page.sample_pages_generated")),h(),s.reset()}})};return(_,n)=>(c(),C(U,null,[t(F,{onClick:k},{default:e(()=>[r(l(a(o)("page.generate_samples")),1)]),_:1}),t(re,{show:p.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:h},{header:e(()=>[r(l(a(o)("page.generate_page_samples")),1)]),body:e(()=>[t(P,null,{title:e(()=>[f("label",Ve,[r(l(a(o)("page.brand_logo"))+" ",1),t(I,{danger:!0},{default:e(()=>n[5]||(n[5]=[r("*")])),_:1})])]),footer:e(()=>[t(w,{message:a(s).errors.logo_url},null,8,["message"])]),default:e(()=>[f("div",null,[t(xe,{withPreload:!0,onUpload:n[0]||(n[0]=m=>{if(m.is_local_driver){a(s).logo_url=`/storage/${m.path}`;return}a(s).logo_url=m.url})},{default:e(()=>[t(N,null,{default:e(()=>[r(l(a(o)("general.upload")),1)]),_:1})]),_:1}),a(s).logo_url?(c(),C("img",{key:0,src:a(s).logo_url,class:"w-auto max-h-20 mt-xs",alt:"Logo"},null,8,De)):Z("",!0)])]),_:1}),t(P,{class:"mt-lg"},{title:e(()=>[f("label",Ie,[r(l(a(o)("page.brand_name"))+" ",1),t(I,{danger:!0},{default:e(()=>n[6]||(n[6]=[r("*")])),_:1})])]),footer:e(()=>[t(w,{message:a(s).errors.brand_name},null,8,["message"])]),default:e(()=>[t(D,{type:"text",modelValue:a(s).brand_name,"onUpdate:modelValue":n[1]||(n[1]=m=>a(s).brand_name=m),error:a(s).errors.brand_name,id:"brand_name"},null,8,["modelValue","error"])]),_:1}),t(P,{class:"mt-lg"},{title:e(()=>[f("label",Oe,[r(l(a(o)("page.contact_email"))+" ",1),t(I,{danger:!0},{default:e(()=>n[7]||(n[7]=[r("*")])),_:1})])]),footer:e(()=>[t(w,{message:a(s).errors.email},null,8,["message"])]),default:e(()=>[t(D,{type:"text",modelValue:a(s).email,"onUpdate:modelValue":n[2]||(n[2]=m=>a(s).email=m),error:a(s).errors.email,id:"email"},null,8,["modelValue","error"])]),_:1}),t(P,{class:"mt-lg"},{title:e(()=>[f("label",Te,l(a(o)("page.register_url")),1)]),footer:e(()=>[t(w,{message:a(s).errors.register_url},null,8,["message"])]),default:e(()=>[t(D,{type:"text",modelValue:a(s).register_url,"onUpdate:modelValue":n[3]||(n[3]=m=>a(s).register_url=m),error:a(s).errors.register_url,id:"register_url"},null,8,["modelValue","error"])]),_:1}),t(P,{class:"mt-lg"},{footer:e(()=>[t(w,{message:a(s).errors.destroy},null,8,["message"])]),default:e(()=>[f("label",null,[t(T,{checked:a(s).destroy,"onUpdate:checked":n[4]||(n[4]=m=>a(s).destroy=m),value:!1},null,8,["checked"]),f("span",Ue,l(a(o)("page.destroy_existing_pages")),1)])]),_:1})]),footer:e(()=>[t(N,{onClick:h,class:"mr-xs"},{default:e(()=>[r(l(a(o)("general.cancel")),1)]),_:1}),t(F,{onClick:b,disabled:a(s).processing,isLoading:a(s).processing},{default:e(()=>[r(l(a(o)("page.generate")),1)]),_:1},8,["disabled","isLoading"])]),_:1},8,["show"])],64))}},qe={class:"w-full mx-auto row-py"},Re={class:"mt-lg row-px w-full"},Ae=ke({layout:te}),qt=Object.assign(Ae,{__name:"Pages",props:{pages:{type:Object}},setup(i){const{t:o}=j(),u=S("routePrefix"),p=i,k=o("page.pages"),{notify:h}=q(),x=S("confirmation"),{selectedRecords:g,putPageRecords:s,toggleSelectRecordsOnPage:b,deselectRecord:_,deselectAllRecords:n}=ne(),m=()=>p.pages.data.map($=>$.uuid);$e(()=>{s(m()),O.on("pageDelete",$=>{_($)})}),be(()=>{O.off("pageDelete")}),ve(()=>p.pages.data,()=>{s(m())});const H=()=>{x().title(o("page.delete_pages")).description(o("page.confirm_delete_pages")).destructive().onConfirm($=>{$.isLoading(!0),E.delete(route(`${u}.pages.deleteMultiple`),{data:{pages:g.value},preserveScroll:!0,onSuccess(){n(),h("success",o("page.pages_deleted"))},onFinish(){$.reset()}})}).show()};return($,V)=>{const Q=z("tooltip");return c(),C(U,null,[t(a(Y),{title:a(k)},null,8,["title"]),f("div",qe,[t(ie,{title:a(k)},{description:e(()=>[r(l(a(o)("page.page_desc")),1)]),default:e(()=>[t(je)]),_:1},8,["title"]),f("div",Re,[t(ce,{count:a(g).length,onClose:a(n)},{default:e(()=>[K((c(),v(me,{onClick:H},{default:e(()=>[t(J)]),_:1})),[[Q,a(o)("general.delete")]])]),_:1},8,["count","onClose"]),t(we,null,{default:e(()=>[t(a(ee),{href:$.route(`${a(u)}.pages.create`),class:"mb-xs sm:mb-0"},{default:e(()=>[t(le,null,{default:e(()=>[r(l(a(o)("page.create_page")),1)]),_:1})]),_:1},8,["href"])]),_:1}),t(ue,{"with-padding":!1,class:"mt-lg"},{default:e(()=>[t(de,null,{head:e(()=>[t(G,null,{default:e(()=>[t(d,{component:"th",scope:"col",class:"w-10"},{default:e(()=>[t(T,{checked:a(b),"onUpdate:checked":V[0]||(V[0]=y=>B(b)?b.value=y:null),disabled:!i.pages.data.length},null,8,["checked","disabled"])]),_:1}),t(d,{component:"th",scope:"col"},{default:e(()=>[r(l(a(o)("general.name")),1)]),_:1}),t(d,{component:"th",scope:"col"},{default:e(()=>[r(l(a(o)("page.url_path")),1)]),_:1}),t(d,{component:"th",scope:"col"},{default:e(()=>[r(l(a(o)("general.status")),1)]),_:1}),t(d,{component:"th",scope:"col"},{default:e(()=>[r(l(a(o)("general.created_at")),1)]),_:1}),t(d,{component:"th",scope:"col"})]),_:1})]),body:e(()=>[(c(!0),C(U,null,ye(i.pages.data,y=>(c(),v(Ce,{key:y.uuid,item:y,onOnDelete:()=>{a(_)(y.uuid)}},{checkbox:e(()=>[t(T,{checked:a(g),"onUpdate:checked":V[1]||(V[1]=W=>B(g)?g.value=W:null),value:y.uuid},null,8,["checked","value"])]),_:2},1032,["item","onOnDelete"]))),128))]),_:1}),i.pages.data.length?Z("",!0):(c(),v(pe,{key:0,class:"p-md"},{default:e(()=>[r(l(a(o)("page.no_pages_found")),1)]),_:1}))]),_:1})])])],64)}}});export{qt as default};

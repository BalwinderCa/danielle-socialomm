import{E as ee}from"./VariableManager-CJ8ven6f.js";import{_ as j}from"./Flex-55yEXw9x.js";import{ac as te,h as oe,q as ae,c as z,a as q,X as ne,g as ie,A as F,i as se}from"./app-Bood2A1f.js";import{k as r,l as $,x as c,r as h,b as E,w as re,E as a,I,u as v,z as o,F as D,q as le,y as w,B as me,A as m,ak as y,C,bN as A,b8 as G,G as K,J as de,t as U,aJ as V,f as ue}from"./@vue-DxEuNGre.js";import{u as ce}from"./vue-i18n-CbxO4HOa.js";import{_ as pe,L as fe}from"./ListItem-CZIJw31K.js";import{_ as P}from"./emoji-mart-vue-fast-DVezNdb5.js";import{_ as ve}from"./NoResult-4Hlh7_BA.js";import{u as Z}from"./useAPIForm-Cr7Lz7eJ.js";import{_ as ge}from"./Select-BOKsQWfr.js";import{_ as $e}from"./Textarea-XqA1xqrh.js";import{_ as R}from"./VerticalGroup-0ogbRp0b.js";import{R as _e}from"./Refresh-BG68H2OY.js";import{_ as be}from"./ClipboardButton-BcSMGRuj.js";import{u as ke}from"./Variable-7GuaKerm.js";import"./@tiptap-DlxRGiDd.js";import"./prosemirror-state-Dfkm3xtq.js";import"./prosemirror-model-C-VrLeHJ.js";import"./orderedmap-C4TimWWB.js";import"./prosemirror-transform-CNTRfHZy.js";import"./prosemirror-dropcursor-CRVdsyHs.js";import"./prosemirror-gapcursor-CIClWOe5.js";import"./prosemirror-keymap-BrtsOOc5.js";import"./w3c-keyname-DEtA-KhA.js";import"./prosemirror-view-CARpBv5D.js";import"./prosemirror-history-C8_5KGmB.js";import"./rope-sequence-Cxv9J64N.js";import"./linkifyjs-CkylhtGF.js";import"./prosemirror-commands-B8A7CEu7.js";import"./prosemirror-schema-list-B_jBki9Q.js";import"./MediaGifs-DN9NADW3.js";import"./@inertiajs-D-tiTHlX.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./nanoid-DP16PUbO.js";import"./Masonry-rVDWBFr8.js";import"./lodash-1tNnn4nO.js";import"./MediaFile-CRJPtfzT.js";import"./ExclamationCircle-Co8IAwQh.js";import"./SectionTitle-DlhdjqIe.js";import"./SearchInput-CMIZf10P.js";import"./Alert-BuJbEvbE.js";import"./Tab-gMbHW_qz.js";import"./vuedraggable-OGJnKJQC.js";import"./vue-CveCyDR3.js";import"./sortablejs-DNSymPwa.js";import"./EllipsisVertical-DX5Zf3Qx.js";import"./Trash-CGBHVq5p.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";import"./@intlify-AYDeHhOU.js";import"./Clipboard-szG3aGAU.js";const ye={},xe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function he(n,t){return r(),$("svg",xe,t[0]||(t[0]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"},null,-1)]))}const M=P(ye,[["render",he]]),we={},Ce={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Le(n,t){return r(),$("svg",Ce,t[0]||(t[0]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"},null,-1)]))}const H=P(we,[["render",Le]]),ze={},Se={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Be(n,t){return r(),$("svg",Se,t[0]||(t[0]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"},null,-1)]))}const J=P(ze,[["render",Be]]),je=["onKeydown"],Me={class:"mt-xs"},Ne={key:1,class:"mr-[8px]"},De={__name:"Spotlight",emits:["selected-command"],setup(n,{emit:t}){const{t:e}=ce(),l=[{name:"rephrase",nameLocalized:e("ai.rephrase"),icon:"Sparkles"},{name:"fix_spelling_grammar",nameLocalized:e("ai.fix_spelling_grammar"),icon:"Sparkles"},{name:"expand",nameLocalized:e("ai.expand"),icon:"PlusSimple"},{name:"shorten",nameLocalized:e("ai.shorten"),icon:"Minus"},{name:"simplify",nameLocalized:e("ai.simplify"),icon:"Sparkles"},{name:"friendly_tone",nameLocalized:e("ai.friendly_tone"),icon:"",emoji:"ðŸ˜Š"},{name:"formal_tone",nameLocalized:e("ai.formal_tone"),icon:"",emoji:"ðŸŽ©"},{name:"edgy_tone",nameLocalized:e("ai.edgy_tone"),icon:"",emoji:"ðŸ¤˜"},{name:"engaging_tone",nameLocalized:e("ai.engaging_tone"),icon:"",emoji:"ðŸ¤"},{name:"generate",nameLocalized:e("general.generate_new"),icon:"Sparkles"}],i=t,p=h(""),_=h("improve"),u=h(0),b={Sparkles:M,PlusSimple:H,Minus:J},k=E(()=>l.filter(d=>te(d.name).toLocaleLowerCase().includes(p.value.toLocaleLowerCase()))),L=d=>{_.value=d.name,i("selected-command",_.value)},g=d=>{d.key==="ArrowDown"||d.key==="Tab"?u.value<k.value.length-1?u.value++:u.value=0:d.key==="ArrowUp"&&(u.value>0?u.value--:u.value=k.value.length-1),_.value=k.value[u.value].name};return re(p,()=>{k.value.length>0&&(_.value=k.value[0].name)}),(d,f)=>(r(),$("div",{onKeydown:[I(A(g,["prevent"]),["up"]),I(A(g,["prevent"]),["down"]),I(A(g,["prevent"]),["tab"])]},[c("div",Me,[a(oe,{modelValue:p.value,"onUpdate:modelValue":f[0]||(f[0]=x=>p.value=x),onKeydown:f[1]||(f[1]=I(x=>d.$emit("selected-command",_.value),["enter"])),type:"text",autofocus:"",placeholder:v(e)("general.search_jump"),class:"w-full"},null,8,["modelValue","placeholder"])]),a(fe,{class:"mt-xs"},{default:o(()=>[(r(!0),$(D,null,le(k.value,x=>(r(),w(pe,{onClick:N=>L(x),active:_.value===x.name,tabindex:"0",role:"button"},{default:o(()=>[a(j,null,{default:o(()=>[x.icon?(r(),w(me(b[x.icon]),{key:0,class:"text-stone-800"})):(r(),$("div",Ne,m(x.emoji),1)),y(" "+m(x.nameLocalized),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),256)),k.value.length?C("",!0):(r(),w(ve,{key:0,class:"p-md"}))]),_:1})],40,je))}},Ie={class:"relative h-10 mt-lg"},X={__name:"Preloader",setup(n){return(t,e)=>(r(),$("div",Ie,[a(ae,null,{default:o(()=>[y(m(t.$t("ai.is_writing")),1)]),_:1})]))}},Ve={class:"p-md rounded-md border border-primary-500"},O={__name:"GeneratedContent",props:{text:{type:String,required:!0},buttonsDisabled:{type:Boolean,default:!1},insertButtonName:{type:String,default:""}},emits:["clickInsert","clickRetry"],setup(n){const t=h("");return(e,l)=>{const i=G("tooltip");return r(),$("div",Ve,[c("p",{ref_key:"dom",ref:t},m(n.text),513),a(j,{class:"mt-md justify-between items-center"},{default:o(()=>[K(a(be,{htmlElm:t.value,"show-text":!1,size:"xs",disabled:n.buttonsDisabled,component:"PureButton"},null,8,["htmlElm","disabled"]),[[i,e.$t("system.copy")]]),a(j,null,{default:o(()=>[a(z,{onClick:l[0]||(l[0]=p=>e.$emit("clickRetry")),size:"xs",disabled:n.buttonsDisabled},{icon:o(()=>[a(_e)]),default:o(()=>[y(" "+m(e.$t("general.retry")),1)]),_:1},8,["disabled"]),a(q,{onClick:l[1]||(l[1]=p=>e.$emit("clickInsert")),size:"sm",disabled:n.buttonsDisabled},{default:o(()=>[y(m(n.insertButtonName?n.insertButtonName:e.$t("general.insert")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})])}}},Ee={role:"button",class:"flex justify-between p-sm border border-stone-600 hover:border-stone-700 transition ease-in-out duration-200 w-full rounded-md"},Q={__name:"DraftContent",props:{clearable:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["clickClear"],setup(n){return(t,e)=>(r(),$("div",Ee,[c("div",{class:U({"overflow-hidden text-ellipsis truncate":!n.expanded})},[de(t.$slots,"default")],2),n.clearable?(r(),w(ie,{key:0,onClick:e[0]||(e[0]=l=>t.$emit("clickClear"))},{default:o(()=>[a(ne)]),_:1})):C("",!0)]))}},W={__name:"Commands",props:{disabled:{type:Boolean,default:!1}},emits:["selected-command"],setup(n){return(t,e)=>(r(),w(j,{wrap:!0,class:"justify-end"},{default:o(()=>[a(z,{onClick:e[0]||(e[0]=l=>t.$emit("selected-command","rephrase")),disabled:n.disabled,size:"xs"},{icon:o(()=>[a(M)]),default:o(()=>[y(" "+m(t.$t("ai.rephrase")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[1]||(e[1]=l=>t.$emit("selected-command","expand")),disabled:n.disabled,size:"xs"},{icon:o(()=>[a(H)]),default:o(()=>[y(" "+m(t.$t("ai.expand")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[2]||(e[2]=l=>t.$emit("selected-command","shorten")),disabled:n.disabled,size:"xs"},{icon:o(()=>[a(J)]),default:o(()=>[y(" "+m(t.$t("ai.shorten")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[3]||(e[3]=l=>t.$emit("selected-command","simplify")),disabled:n.disabled,size:"xs"},{icon:o(()=>[a(M)]),default:o(()=>[y(" "+m(t.$t("ai.simplify")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[4]||(e[4]=l=>t.$emit("selected-command","friendly_tone")),disabled:n.disabled,size:"xs"},{icon:o(()=>e[8]||(e[8]=[c("div",{class:"text-lg"},"ðŸ˜Š",-1)])),default:o(()=>[y(" "+m(t.$t("ai.more_friendly")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[5]||(e[5]=l=>t.$emit("selected-command","formal_tone")),disabled:n.disabled,size:"xs"},{icon:o(()=>e[9]||(e[9]=[c("div",{class:"text-lg"},"ðŸŽ©",-1)])),default:o(()=>[y(" "+m(t.$t("ai.more_formal")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[6]||(e[6]=l=>t.$emit("selected-command","edgy_tone")),disabled:n.disabled,size:"xs"},{icon:o(()=>e[10]||(e[10]=[c("div",{class:"text-lg"},"ðŸ¤˜",-1)])),default:o(()=>[y(" "+m(t.$t("ai.more_edgy")),1)]),_:1},8,["disabled"]),a(z,{onClick:e[7]||(e[7]=l=>t.$emit("selected-command","engaging_tone")),disabled:n.disabled,size:"xs"},{icon:o(()=>e[11]||(e[11]=[c("div",{class:"text-lg"},"ðŸ¤",-1)])),default:o(()=>[y(" "+m(t.$t("ai.more_engaging")),1)]),_:1},8,["disabled"])]),_:1}))}},Ae={for:"prompt"},Pe={for:"tone"},Te={value:"neutral"},Re={value:"friendly"},qe={value:"formal"},Fe={value:"edgy"},Ge={value:"engaging"},Ke={key:0},Ue={key:1},Ze={__name:"TextGenerator",props:{characterLimit:{type:Number,default:1e3}},emits:["insert"],setup(n){const t=V("routePrefix"),e=V("workspaceCtx"),l=n,i=Z({prompt:"",tone:"neutral",character_limit:l.characterLimit===0||l.characterLimit>1e3?1e3:l.characterLimit,text:"",command:""}),p=h("form"),_=h(!1),u=h(!1),b=h(""),k=E(()=>p.value==="form"),L=s=>{p.value=s},g=()=>{L("form"),u.value=!0},d=()=>{L("result"),u.value=!1},f=()=>{i.reset(),g(),_.value=!1,u.value=!1,b.value=""},{onCatch:x}=F(),N=()=>{d(),i.transform(s=>({prompt:s.prompt,tone:s.tone,character_limit:s.character_limit})).post(route(`${t}.ai.text.generate`,{workspace:e.id}),{onSuccess(s){b.value=s.text,_.value=!0},onError(s){x(s)}})},T=()=>{d(),i.transform(s=>({text:s.text,command:s.command,character_limit:s.character_limit>1e3?1e3:s.character_limit})).post(route(`${t}.ai.text.modify`,{workspace:e.id}),{onSuccess(s){b.value=s.text},onError(s){x(s)}})},Y=()=>{if(!i.command){N();return}T()};return(s,S)=>(r(),$(D,null,[k.value?(r(),$(D,{key:0},[a(R,null,{title:o(()=>[c("label",Ae,m(s.$t("ai.tell_ai")),1)]),default:o(()=>[a($e,{modelValue:v(i).prompt,"onUpdate:modelValue":S[0]||(S[0]=B=>v(i).prompt=B),id:"prompt",rows:"4",autofocus:"",placeholder:s.$t("ai.write_about")},null,8,["modelValue","placeholder"])]),_:1}),a(R,{class:"mt-lg"},{title:o(()=>[c("label",Pe,m(s.$t("ai.tone_")),1)]),default:o(()=>[a(ge,{modelValue:v(i).tone,"onUpdate:modelValue":S[1]||(S[1]=B=>v(i).tone=B),id:"tone"},{default:o(()=>[c("option",Te,m(s.$t("ai.tone.neutral")),1),c("option",Re,"ðŸ˜Š "+m(s.$t("ai.tone.friendly")),1),c("option",qe,"ðŸŽ© "+m(s.$t("ai.tone.formal")),1),c("option",Fe,"ðŸ¤˜ "+m(s.$t("ai.tone.edgy")),1),c("option",Ge,"ðŸ¤ "+m(s.$t("ai.tone.engaging")),1)]),_:1},8,["modelValue"])]),_:1}),a(j,{class:"mt-lg justify-end"},{default:o(()=>[_.value?(r(),w(z,{key:0,onClick:d},{default:o(()=>[y(m(s.$t("general.cancel")),1)]),_:1})):C("",!0),a(q,{onClick:N,size:"md",isLoading:v(i).processing,disabled:v(i).processing||!v(i).prompt},{icon:o(()=>[a(M)]),default:o(()=>[u.value?(r(),$("span",Ue,m(s.$t("general.generate_new")),1)):(r(),$("span",Ke,m(s.$t("general.generate")),1))]),_:1},8,["isLoading","disabled"])]),_:1})],64)):C("",!0),k.value?C("",!0):(r(),w(Q,{key:1,onClick:g,onClickClear:f,clearable:!v(i).processing,class:"mt-xs"},{default:o(()=>[y(m(v(i).prompt),1)]),_:1},8,["clearable"])),v(i).processing?(r(),w(X,{key:2})):C("",!0),_.value&&!v(i).processing?(r(),$(D,{key:3},[a(O,{onClickInsert:S[2]||(S[2]=B=>s.$emit("insert",b.value)),onClickRetry:Y,text:b.value,buttonsDisabled:u.value,insertButtonName:"Insert",class:U(["mt-lg",{"opacity-50":u.value}])},null,8,["text","buttonsDisabled","class"]),a(W,{onSelectedCommand:S[3]||(S[3]=B=>{v(i).command=B,v(i).text=b.value,T()}),disabled:u.value,class:"mt-lg"},null,8,["disabled"])],64)):C("",!0)],64))}},He={class:"font-medium"},Je={key:1,class:"mt-lg"},Xe={class:"font-medium"},Oe={__name:"TextModifier",props:{text:{type:String,required:!0},command:{type:String,required:!0},characterLimit:{type:Number,default:1e3}},emits:["replace"],setup(n){const t=V("routePrefix"),e=V("workspaceCtx"),l=n,i=Z({text:l.text,command:l.command,character_limit:l.characterLimit===0||l.characterLimit>1e3?1e3:l.characterLimit}),{getTextFromHtmlString:p}=ke(),_=E(()=>p(l.text)),u=h(!1),b=h(""),{onCatch:k}=F();ue(()=>{L()});const L=()=>{i.post(route(`${t}.ai.text.modify`,{workspace:e.id}),{onSuccess(g){b.value=g.text},onError(g){k(g)}})};return(g,d)=>(r(),$(D,null,[c("div",null,[c("div",He,m(g.$t("ai.draft_content")),1),a(Q,{onClick:d[0]||(d[0]=f=>u.value=!u.value),expanded:u.value,class:"mt-xs"},{default:o(()=>[y(m(_.value),1)]),_:1},8,["expanded"])]),v(i).processing?(r(),w(X,{key:0})):C("",!0),b.value&&!v(i).processing?(r(),$("div",Je,[c("div",Xe,m(g.$t("ai.generated_content")),1),a(O,{onClickInsert:d[1]||(d[1]=f=>g.$emit("replace",b.value)),onClickRetry:L,text:b.value,insertButtonName:g.$t("general.replace"),class:"mt-xs"},null,8,["text","insertButtonName"]),a(W,{onSelectedCommand:d[2]||(d[2]=f=>{v(i).command=f,v(i).text=b.value,L()}),class:"mt-lg"})])):C("",!0)],64))}},go={__name:"AIAssist",props:{text:{type:String,required:!0},characterLimit:{type:Number,default:1e3}},emits:["insert","replace","close"],setup(n,{emit:t}){const e=t,l=n,i=h(!1),p=h("spotlight"),_=h(""),u=E(()=>l.text===""||l.text==="<div></div>"),b=()=>{u.value&&(p.value="generator"),i.value=!0},k=()=>{i.value=!1,p.value="spotlight"},L=f=>{if(f!=="generate"){p.value="modifier",_.value=f;return}p.value="generator"},g=f=>{e("insert",f),k()},d=f=>{e("replace",f),k()};return(f,x)=>{const N=G("tooltip");return r(),$("div",null,[K((r(),w(ee,{onClick:b},{default:o(()=>[a(M)]),_:1})),[[N,"AI Assist"]]),a(se,{show:i.value,onClose:k,"max-width":"md",closeable:!0,"scrollable-body":!0},{header:o(()=>[a(j,{class:"items-center"},{default:o(()=>[a(M,{class:"text-stone-800"}),y(" "+m(f.$t("ai.ai_assist")),1)]),_:1})]),body:o(()=>[p.value==="spotlight"?(r(),w(De,{key:0,onSelectedCommand:L})):C("",!0),p.value==="generator"?(r(),w(Ze,{key:1,onInsert:g,characterLimit:n.characterLimit},null,8,["characterLimit"])):C("",!0),p.value==="modifier"?(r(),w(Oe,{key:2,onReplace:d,text:n.text,characterLimit:n.characterLimit,command:_.value},null,8,["text","characterLimit","command"])):C("",!0)]),_:1},8,["show"])])}}};export{go as default};

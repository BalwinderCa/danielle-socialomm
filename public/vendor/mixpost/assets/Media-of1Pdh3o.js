import{Z as E,O as M}from"./@inertiajs-D-tiTHlX.js";import{u as O}from"./usePostVersions-THbIEc6s.js";import{u as S,_ as j,a as z,b as F,c as J}from"./MediaGifs-DVe-MrnX.js";import{_ as q}from"./PageHeader-5KlQKxZu.js";import{T as G,_ as Z}from"./Tab-gMbHW_qz.js";import{_ as H}from"./SelectableBar-iH6lI9K9.js";import{_ as K}from"./PureDangerButton-BpJxGdZl.js";import{J as Q,c as b,P as R,d as U}from"./app-DrYJbhZh.js";import{_ as W}from"./Panel-C3_mBW3b.js";import{T as X}from"./Trash-CGBHVq5p.js";import{aJ as Y,r as y,b as h,b8 as ee,l as D,E as s,u as i,x as f,z as a,F as x,k as u,q as te,y as v,ak as m,A as n,B as oe,G as ae,C as se}from"./@vue-DxEuNGre.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CaivEIYs.js";import"./@babel-DR_DpGdq.js";import"./qs-rEl07COy.js";import"./side-channel-BRnl5gSA.js";import"./get-intrinsic-Cc4ufvoy.js";import"./has-symbols-eVqrYdw7.js";import"./function-bind-CTBxUF5L.js";import"./has-0xLfSV6H.js";import"./call-bind-BYlQD6Li.js";import"./object-inspect-DHD9wu3Y.js";import"./nprogress-34pYfWsY.js";import"./lodash.clonedeep-DcFMYim1.js";import"./lodash.isequal-K_gfpr-R.js";import"./nanoid-DP16PUbO.js";import"./Masonry-BfXpEWkh.js";import"./lodash-1tNnn4nO.js";import"./MediaFile-CRJPtfzT.js";import"./ExclamationCircle-Co8IAwQh.js";import"./emoji-mart-vue-fast-DVezNdb5.js";import"./SectionTitle-DlhdjqIe.js";import"./SearchInput-2hkqUhZw.js";import"./NoResult-DQ-W_W23.js";import"./Alert-zz7KsfSK.js";import"./vue-i18n-CbxO4HOa.js";import"./@intlify-AYDeHhOU.js";import"./Flex-55yEXw9x.js";/* empty css            */import"./floating-vue-BgCeCz-J.js";import"./@floating-ui-Dq8c3VDt.js";import"./vue-select-CUmyCPba.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./mitt-DJ65BbbF.js";import"./date-fns-tz-NX4xHF3p.js";import"./date-fns-Uop7x9nl.js";import"./pusher-js-CH5STpCs.js";import"./laravel-echo-C9ppFO4I.js";const re={class:"w-full mx-auto row-py mb-2xl"},ie={class:"w-full row-px"},le={class:"w-full row-px mt-lg"},st={__name:"Media",setup(me){const $=Y("workspaceCtx"),{activeTab:l,tabs:T,isDownloading:w,isDeleting:k,downloadExternal:g,deletePermanently:P,getMediaCrediting:B}=S("mixpost.media.fetchStock",{workspace:$.id}),L={uploads:j,stock:z,gifs:F,healthinomics:J},d=y(),V=h(()=>L[l.value]),c=h(()=>d.value?d.value.selected:[]),C=()=>{d.value.deselectAll()},I=()=>{const e=c.value;if(l.value==="healthinomics"){const t=e.map(o=>({id:"everytime_same_id",url:o.url,source:"stock",author:"developer",download_data:o.url}));g(t,o=>{_(o.data)})}else if(l.value!=="uploads"){const t=e.map(o=>({id:o.id,url:o.url,source:o.source,author:o.author,download_data:o.download_data}));g(t,o=>{_(o.data)})}else _(e)},{versionObject:N}=O(),_=e=>{M.post(route("mixpost.posts.store",{workspace:$.id}),{versions:[N(0,!0,B(e),e.map(t=>t.id))]})},p=y(!1),A=()=>{const e=c.value.map(t=>t.id);P(e,()=>{C(),d.value.removeItems(e),p.value=!1})};return(e,t)=>{const o=ee("tooltip");return u(),D(x,null,[s(i(E),{title:e.$t("media.media_library")},null,8,["title"]),f("div",re,[s(q,{title:e.$t("media.media_library")},null,8,["title"]),f("div",ie,[s(G,null,{default:a(()=>[(u(!0),D(x,null,te(i(T),r=>(u(),v(Z,{key:r,onClick:ne=>l.value=r,active:i(l)===r},{default:a(()=>[m(n(e.$t(`media.${r}`)),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),f("div",le,[s(W,null,{default:a(()=>[(u(),v(oe(V.value),{ref_key:"sourceProperties",ref:d,columns:4},null,512)),s(H,{count:c.value.length,onClose:t[1]||(t[1]=r=>C())},{default:a(()=>[s(b,{onClick:I,isLoading:i(w),disabled:i(w),class:"mr-sm rtl:mr-0 rtl:ml-sm",size:"xs"},{icon:a(()=>[s(R)]),default:a(()=>[m(" "+n(e.$t("media.create_post")),1)]),_:1},8,["isLoading","disabled"]),i(l)==="uploads"?ae((u(),v(K,{key:0,onClick:t[0]||(t[0]=r=>p.value=!0)},{default:a(()=>[s(X)]),_:1})),[[o,e.$t("general.delete")]]):se("",!0)]),_:1},8,["count"])]),_:1})])]),s(Q,{show:p.value,variant:"danger",onClose:t[3]||(t[3]=r=>p.value=!1)},{header:a(()=>[m(n(e.$t("media.delete_media")),1)]),body:a(()=>[m(n(e.$t("media.do_you_want_delete")),1)]),footer:a(()=>[s(b,{onClick:t[2]||(t[2]=r=>p.value=!1),class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:a(()=>[m(n(e.$t("general.cancel")),1)]),_:1}),s(U,{isLoading:i(k),disabled:i(k),onClick:A},{default:a(()=>[m(n(e.$t("general.delete")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{st as default};
